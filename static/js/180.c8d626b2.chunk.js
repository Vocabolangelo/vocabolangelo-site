/*! For license information please see 180.c8d626b2.chunk.js.LICENSE.txt */
(self.webpackChunkvocabolangelo_site=self.webpackChunkvocabolangelo_site||[]).push([[180],{2094:e=>{"use strict";e.exports=function e(t){if("number"===typeof t&&isNaN(t))throw new Error("NaN is not allowed");if("number"===typeof t&&!isFinite(t))throw new Error("Infinity is not allowed");if(null===t||"object"!==typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){const n=t.reduce(((t,n,o)=>{const i=0===o?"":",",r=void 0===n||"symbol"===typeof n?null:n;return"".concat(t).concat(i).concat(e(r))}),"");return"[".concat(n,"]")}const n=Object.keys(t).sort().reduce(((n,o)=>{if(void 0===t[o]||"symbol"===typeof t[o])return n;const i=0===n.length?"":",";return"".concat(n).concat(i).concat(e(o),":").concat(e(t[o]))}),"");return"{".concat(n,"}")}},8542:(e,t,n)=>{"use strict";const{isArray:o,isObject:i,isString:r}=n(4256),{asArray:a}=n(1374),{prependBase:s}=n(8546),l=n(1430),c=n(2017);function d(e){throw new l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function u(e){let{context:t,base:n}=e;if(!t)return;const a=t["@context"];if(r(a))t["@context"]=s(n,a);else if(o(a))for(let o=0;o<a.length;++o){const e=a[o];r(e)?a[o]=s(n,e):i(e)&&u({context:{"@context":e},base:n})}else if(i(a))for(const o in a)u({context:a[o],base:n})}e.exports=class{constructor(e){let{sharedCache:t}=e;this.perOpCache=new Map,this.sharedCache=t}async resolve(e){let{activeCtx:t,context:n,documentLoader:s,base:l,cycles:u=new Set}=e;n&&i(n)&&n["@context"]&&(n=n["@context"]),n=a(n);const p=[];for(const a of n){if(r(a)){let e=this._get(a);e||(e=await this._resolveRemoteContext({activeCtx:t,url:a,documentLoader:s,base:l,cycles:u})),o(e)?p.push(...e):p.push(e);continue}if(null===a){p.push(new c({document:null}));continue}i(a)||d(n);const e=JSON.stringify(a);let h=this._get(e);h||(h=new c({document:a}),this._cacheResolvedContext({key:e,resolved:h,tag:"static"})),p.push(h)}return p}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext(e){let{key:t,resolved:n,tag:o}=e;if(this.perOpCache.set(t,n),void 0!==o){let e=this.sharedCache.get(t);e||(e=new Map,this.sharedCache.set(t,e)),e.set(o,n)}return n}async _resolveRemoteContext(e){let{activeCtx:t,url:n,documentLoader:o,base:i,cycles:r}=e;n=s(i,n);const{context:a,remoteDoc:l}=await this._fetchContext({activeCtx:t,url:n,documentLoader:o,cycles:r});i=l.documentUrl||n,u({context:a,base:i});const c=await this.resolve({activeCtx:t,context:a,documentLoader:o,base:i,cycles:r});return this._cacheResolvedContext({key:n,resolved:c,tag:l.tag}),c}async _fetchContext(e){let t,n,{activeCtx:a,url:s,documentLoader:c,cycles:d}=e;if(d.size>10)throw new l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===a.processingMode?"loading remote context failed":"context overflow",max:10});if(d.has(s))throw new l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===a.processingMode?"recursive context inclusion":"context overflow",url:s});d.add(s);try{n=await c(s),t=n.document||null,r(t)&&(t=JSON.parse(t))}catch(u){throw new l("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. "+'URL: "'.concat(s,'".'),"jsonld.InvalidUrl",{code:"loading remote context failed",url:s,cause:u})}if(!i(t))throw new l("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. "+'URL: "'.concat(s,'".'),"jsonld.InvalidUrl",{code:"invalid remote context",url:s});return t="@context"in t?{"@context":t["@context"]}:{"@context":{}},n.contextUrl&&(o(t["@context"])||(t["@context"]=[t["@context"]]),t["@context"].push(n.contextUrl)),{context:t,remoteDoc:n}}}},1430:e=>{"use strict";e.exports=class extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e),this.name=t,this.message=e,this.details=n}}},8941:e=>{"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},564:(e,t,n)=>{"use strict";e.exports=n(5011).NQuads},321:e=>{"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},2017:(e,t,n)=>{"use strict";const o=n(9341);e.exports=class{constructor(e){let{document:t}=e;this.document=t,this.cache=new o({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},6043:(e,t,n)=>{"use strict";const o=n(1430),{isArray:i,isObject:r,isString:a,isUndefined:s}=n(4256),{isList:l,isValue:c,isGraph:d,isSimpleGraph:u,isSubjectReference:p}=n(8538),{expandIri:h,getContextValue:f,isKeyword:v,process:g,processingMode:y}=n(1295),{removeBase:m,prependBase:x}=n(8546),{REGEX_KEYWORD:b,addValue:w,asArray:I,compareShortestLeast:j}=n(1374),S={};function O(e,t,n){if("@nest"!==h(e,t,{vocab:!0},n))throw new o("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=S,S.compact=async e=>{let{activeCtx:t,activeProperty:n=null,element:h,options:m={}}=e;if(i(h)){let e=[];for(let o=0;o<h.length;++o){const i=await S.compact({activeCtx:t,activeProperty:n,element:h[o],options:m});null!==i&&e.push(i)}if(m.compactArrays&&1===e.length){0===(f(t,n,"@container")||[]).length&&(e=e[0])}return e}const x=f(t,n,"@context");if(s(x)||(t=await g({activeCtx:t,localCtx:x,propagate:!0,overrideProtected:!0,options:m})),r(h)){if(m.link&&"@id"in h&&m.link.hasOwnProperty(h["@id"])){const e=m.link[h["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===h)return e[t].compacted}if(c(h)||p(h)){const e=S.compactValue({activeCtx:t,activeProperty:n,value:h,options:m});return m.link&&p(h)&&(m.link.hasOwnProperty(h["@id"])||(m.link[h["@id"]]=[]),m.link[h["@id"]].push({expanded:h,compacted:e})),e}if(l(h)){if((f(t,n,"@container")||[]).includes("@list"))return S.compact({activeCtx:t,activeProperty:n,element:h["@list"],options:m})}const e="@reverse"===n,x={},b=t;c(h)||p(h)||(t=t.revertToPreviousContext());const j=f(b,n,"@context");s(j)||(t=await g({activeCtx:t,localCtx:j,propagate:!0,overrideProtected:!0,options:m})),m.link&&"@id"in h&&(m.link.hasOwnProperty(h["@id"])||(m.link[h["@id"]]=[]),m.link[h["@id"]].push({expanded:h,compacted:x}));let D=h["@type"]||[];D.length>1&&(D=Array.from(D).sort());const E=t;for(const n of D){const e=S.compactIri({activeCtx:E,iri:n,relativeTo:{vocab:!0}}),o=f(b,e,"@context");s(o)||(t=await g({activeCtx:t,localCtx:o,options:m,propagate:!1}))}const N=Object.keys(h).sort();for(const s of N){const p=h[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&v(s)){const e=S.compactIri({activeCtx:t,iri:s,relativeTo:{vocab:!0}});w(x,e,p)}else{if(!i(p))throw new o("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){const n=S.compactIri({activeCtx:t,iri:s,value:p,relativeTo:{vocab:!0},reverse:e}),o=t.mappings.has(n)?t.mappings.get(n)["@nest"]:null;let i=x;o&&(O(t,o,m),r(x[o])||(x[o]={}),i=x[o]),w(i,n,p,{propertyIsArray:!0})}for(const n of p){const o=S.compactIri({activeCtx:t,iri:s,value:n,relativeTo:{vocab:!0},reverse:e}),p=t.mappings.has(o)?t.mappings.get(o)["@nest"]:null;let h=x;p&&(O(t,p,m),r(x[p])||(x[p]={}),h=x[p]);const v=f(t,o,"@container")||[],g=d(n),y=l(n);let b;y?b=n["@list"]:g&&(b=n["@graph"]);let j=await S.compact({activeCtx:t,activeProperty:o,element:y||g?b:n,options:m});if(y){if(i(j)||(j=[j]),v.includes("@list")){w(h,o,j,{valueIsArray:!0,allowDuplicate:!0});continue}j={[S.compactIri({activeCtx:t,iri:"@list",relativeTo:{vocab:!0}})]:j},"@index"in n&&(j[S.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"])}if(g)if(v.includes("@graph")&&(v.includes("@id")||v.includes("@index")&&u(n))){let e;h.hasOwnProperty(o)?e=h[o]:h[o]=e={};const i=(v.includes("@id")?n["@id"]:n["@index"])||S.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}});w(e,i,j,{propertyIsArray:!m.compactArrays||v.includes("@set")})}else v.includes("@graph")&&u(n)?(i(j)&&j.length>1&&(j={"@included":j}),w(h,o,j,{propertyIsArray:!m.compactArrays||v.includes("@set")})):(i(j)&&1===j.length&&m.compactArrays&&(j=j[0]),j={[S.compactIri({activeCtx:t,iri:"@graph",relativeTo:{vocab:!0}})]:j},"@id"in n&&(j[S.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=n["@id"]),"@index"in n&&(j[S.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),w(h,o,j,{propertyIsArray:!m.compactArrays||v.includes("@set")}));else if(v.includes("@language")||v.includes("@index")||v.includes("@id")||v.includes("@type")){let e,i;if(h.hasOwnProperty(o)?e=h[o]:h[o]=e={},v.includes("@language"))c(j)&&(j=j["@value"]),i=n["@language"];else if(v.includes("@index")){const e=f(t,o,"@index")||"@index",r=S.compactIri({activeCtx:t,iri:e,relativeTo:{vocab:!0}});if("@index"===e)i=n["@index"],delete j[r];else{let t;if([i,...t]=I(j[e]||[]),a(i))switch(t.length){case 0:delete j[e];break;case 1:j[e]=t[0];break;default:j[e]=t}else i=null}}else if(v.includes("@id")){const e=S.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});i=j[e],delete j[e]}else if(v.includes("@type")){const e=S.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}});let r;switch([i,...r]=I(j[e]||[]),r.length){case 0:delete j[e];break;case 1:j[e]=r[0];break;default:j[e]=r}1===Object.keys(j).length&&"@id"in n&&(j=await S.compact({activeCtx:t,activeProperty:o,element:{"@id":n["@id"]},options:m}))}i||(i=S.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}})),w(e,i,j,{propertyIsArray:v.includes("@set")})}else{const e=!m.compactArrays||v.includes("@set")||v.includes("@list")||i(j)&&0===j.length||"@list"===s||"@graph"===s;w(h,o,j,{propertyIsArray:e})}}}else{if((f(t,n,"@container")||[]).includes("@index"))continue;const e=S.compactIri({activeCtx:t,iri:s,relativeTo:{vocab:!0}});w(x,e,p)}else{const e=await S.compact({activeCtx:t,activeProperty:n,element:p,options:m});i(e)&&0===e.length||w(x,s,e)}else{const e=await S.compact({activeCtx:t,activeProperty:"@reverse",element:p,options:m});for(const n in e)if(t.mappings.has(n)&&t.mappings.get(n).reverse){const o=e[n],i=(f(t,n,"@container")||[]).includes("@set")||!m.compactArrays;w(x,n,o,{propertyIsArray:i}),delete e[n]}if(Object.keys(e).length>0){const n=S.compactIri({activeCtx:t,iri:s,relativeTo:{vocab:!0}});w(x,n,e)}}else{let e=I(p).map((e=>S.compactIri({activeCtx:b,iri:e,relativeTo:{vocab:!0}})));1===e.length&&(e=e[0]);const n=S.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}}),o=(f(t,n,"@container")||[]).includes("@set")&&y(t,1.1)||i(e)&&0===p.length;w(x,n,e,{propertyIsArray:o})}else{let e=I(p).map((e=>S.compactIri({activeCtx:t,iri:e,relativeTo:{vocab:!1},base:m.base})));1===e.length&&(e=e[0]);x[S.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=e}}return x}return h},S.compactIri=e=>{let{activeCtx:t,iri:n,value:i=null,relativeTo:a={vocab:!1},reverse:s=!1,base:u=null}=e;if(null===n)return n;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);const p=t.getInverse();if(v(n)&&n in p&&"@none"in p[n]&&"@type"in p[n]["@none"]&&"@none"in p[n]["@none"]["@type"])return p[n]["@none"]["@type"]["@none"];if(a.vocab&&n in p){const e=t["@language"]||"@none",o=[];r(i)&&"@index"in i&&!("@graph"in i)&&o.push("@index","@index@set"),r(i)&&"@preserve"in i&&(i=i["@preserve"][0]),d(i)?("@index"in i&&o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i&&o.push("@graph@id","@graph@id@set"),o.push("@graph","@graph@set","@set"),"@index"in i||o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i||o.push("@graph@id","@graph@id@set")):r(i)&&!c(i)&&o.push("@id","@id@set","@type","@set@type");let a="@language",u="@null";if(s)a="@type",u="@reverse",o.push("@set");else if(l(i)){"@index"in i||o.push("@list");const t=i["@list"];if(0===t.length)a="@any",u="@none";else{let n=0===t.length?e:null,o=null;for(let e=0;e<t.length;++e){const i=t[e];let r="@none",a="@none";if(c(i))if("@direction"in i){const e=(i["@language"]||"").toLowerCase(),t=i["@direction"];r="".concat(e,"_").concat(t)}else"@language"in i?r=i["@language"].toLowerCase():"@type"in i?a=i["@type"]:r="@null";else a="@id";if(null===n?n=r:r!==n&&c(i)&&(n="@none"),null===o?o=a:a!==o&&(o="@none"),"@none"===n&&"@none"===o)break}n=n||"@none",o=o||"@none","@none"!==o?(a="@type",u=o):u=n}}else{if(c(i))if("@language"in i&&!("@index"in i)){o.push("@language","@language@set"),u=i["@language"];const e=i["@direction"];e&&(u="".concat(u,"_").concat(e))}else"@direction"in i&&!("@index"in i)?u="_".concat(i["@direction"]):"@type"in i&&(a="@type",u=i["@type"]);else a="@type",u="@id";o.push("@set")}o.push("@none"),r(i)&&!("@index"in i)&&o.push("@index","@index@set"),c(i)&&1===Object.keys(i).length&&o.push("@language","@language@set");const p=function(e,t,n,o,i,a){null===a&&(a="@null");const s=[];if(("@id"===a||"@reverse"===a)&&r(n)&&"@id"in n){"@reverse"===a&&s.push("@reverse");const t=S.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);const e=s.find((e=>e.includes("_")));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const l=e.inverse[t];for(const r of o){if(!(r in l))continue;const e=l[r][i];for(const t of s)if(t in e)return e[t]}return null}(t,n,i,o,a,u);if(null!==p)return p}if(a.vocab&&"@vocab"in t){const e=t["@vocab"];if(0===n.indexOf(e)&&n!==e){const o=n.substr(e.length);if(!t.mappings.has(o))return o}}let h=null;const f=[];let g=t.fastCurieMap;const y=n.length-1;for(let o=0;o<y&&n[o]in g;++o)g=g[n[o]],""in g&&f.push(g[""][0]);for(let o=f.length-1;o>=0;--o){const e=f[o],r=e.terms;for(const o of r){const r=o+":"+n.substr(e.iri.length);t.mappings.get(o)._prefix&&(!t.mappings.has(r)||null===i&&t.mappings.get(r)["@id"]===n)&&(null===h||j(r,h)<0)&&(h=r)}}if(null!==h)return h;for(const[r,l]of t.mappings)if(l&&l._prefix&&n.startsWith(r+":"))throw new o('Absolute IRI "'.concat(n,'" confused with prefix "').concat(r,'".'),"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t});if(!a.vocab){if("@base"in t){if(t["@base"]){const e=m(x(u,t["@base"]),n);return b.test(e)?"./".concat(e):e}return n}return m(u,n)}return n},S.compactValue=e=>{let{activeCtx:t,activeProperty:n,value:o,options:i}=e;if(c(o)){const e=f(t,n,"@type"),i=f(t,n,"@language"),r=f(t,n,"@direction"),s=f(t,n,"@container")||[],l="@index"in o&&!s.includes("@index");if(!l&&"@none"!==e){if(o["@type"]===e)return o["@value"];if("@language"in o&&o["@language"]===i&&"@direction"in o&&o["@direction"]===r)return o["@value"];if("@language"in o&&o["@language"]===i)return o["@value"];if("@direction"in o&&o["@direction"]===r)return o["@value"]}const c=Object.keys(o).length,d=1===c||2===c&&"@index"in o&&!l,u="@language"in t,p=a(o["@value"]),h=t.mappings.has(n)&&null===t.mappings.get(n)["@language"];if(d&&"@none"!==e&&(!u||!p||h))return o["@value"];const v={};return l&&(v[S.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=o["@index"]),"@type"in o?v[S.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=S.compactIri({activeCtx:t,iri:o["@type"],relativeTo:{vocab:!0}}):"@language"in o&&(v[S.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=o["@language"]),"@direction"in o&&(v[S.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=o["@direction"]),v[S.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=o["@value"],v}const r=h(t,n,{vocab:!0},i),s=f(t,n,"@type"),l=S.compactIri({activeCtx:t,iri:o["@id"],relativeTo:{vocab:"@vocab"===s},base:i.base});return"@id"===s||"@vocab"===s||"@graph"===r?l:{[S.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]:l}}},6504:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:n,XSD_BOOLEAN:n+"boolean",XSD_DOUBLE:n+"double",XSD_INTEGER:n+"integer",XSD_STRING:n+"string"}},1295:(e,t,n)=>{"use strict";const o=n(1374),i=n(1430),{isArray:r,isObject:a,isString:s,isUndefined:l}=n(4256),{isAbsolute:c,isRelative:d,prependBase:u}=n(8546),{handleEvent:p}=n(6557),{REGEX_BCP47:h,REGEX_KEYWORD:f,asArray:v,compareShortestLeast:g}=n(1374),y=new Map,m={};function x(e,t,n,o,i,r){if(null===t||!s(t)||m.isKeyword(t))return t;if(t.match(f))return null;if(o&&o.hasOwnProperty(t)&&!0!==i.get(t)&&m.createTermDefinition({activeCtx:e,localCtx:o,term:t,defined:i,options:r}),(n=n||{}).vocab){const n=e.mappings.get(t);if(null===n)return null;if(a(n)&&"@id"in n)return n["@id"]}const l=t.indexOf(":");if(l>0){const n=t.substr(0,l),a=t.substr(l+1);if("_"===n||0===a.indexOf("//"))return t;o&&o.hasOwnProperty(n)&&m.createTermDefinition({activeCtx:e,localCtx:o,term:n,defined:i,options:r});const s=e.mappings.get(n);if(s&&s._prefix)return s["@id"]+a;if(c(t))return t}if(n.vocab&&"@vocab"in e){t=e["@vocab"]+t}else if(n.base){let n,o;"@base"in e?e["@base"]?(o=u(r.base,e["@base"]),n=u(o,t)):(o=e["@base"],n=t):(o=r.base,n=u(r.base,t)),t=n}return t}function b(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!b(e[n],t[n]))return!1;return!0}const o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(const r in e){let n=e[r],o=t[r];if("@container"===r&&Array.isArray(n)&&Array.isArray(o)&&(n=n.slice().sort(),o=o.slice().sort()),!b(n,o))return!1}return!0}e.exports=m,m.process=async e=>{let{activeCtx:t,localCtx:n,options:o,propagate:l=!0,overrideProtected:f=!1,cycles:g=new Set}=e;a(n)&&"@context"in n&&r(n["@context"])&&(n=n["@context"]);if(0===v(n).length)return t;const y=[],b=[e=>{let{event:t,next:n}=e;y.push(t),n()}];o.eventHandler&&b.push(o.eventHandler);const w=o;o={...o,eventHandler:b};const I=await o.contextResolver.resolve({activeCtx:t,context:n,documentLoader:o.documentLoader,base:o.base});a(I[0].document)&&"boolean"===typeof I[0].document["@propagate"]&&(l=I[0].document["@propagate"]);let j=t;l||j.previousContext||(j=j.clone(),j.previousContext=t);for(const r of I){let{document:e}=r;if(t=j,null===e){if(!f&&0!==Object.keys(t.protected).length)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});j=t=m.getInitialContext(o).clone();continue}const l=r.getProcessed(t);if(l){if(w.eventHandler)for(const e of l.events)p({event:e,options:w});j=t=l.context;continue}if(a(e)&&"@context"in e&&(e=e["@context"]),!a(e))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e});j=j.clone();const v=new Map;if("@version"in e){if(1.1!==e["@version"])throw new i("Unsupported JSON-LD version: "+e["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:e});if(t.processingMode&&"json-ld-1.0"===t.processingMode)throw new i("@version: "+e["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:e});j.processingMode="json-ld-1.1",j["@version"]=e["@version"],v.set("@version",!0)}if(j.processingMode=j.processingMode||t.processingMode,"@base"in e){let t=e["@base"];if(null===t||c(t));else{if(!d(t))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:e});t=u(j["@base"],t)}j["@base"]=t,v.set("@base",!0)}if("@vocab"in e){const t=e["@vocab"];if(null===t)delete j["@vocab"];else{if(!s(t))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:e});if(!c(t)&&m.processingMode(j,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:e});{const e=x(j,t,{vocab:!0,base:!0},void 0,void 0,o);c(e)||o.eventHandler&&p({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:e}},options:o}),j["@vocab"]=e}}v.set("@vocab",!0)}if("@language"in e){const t=e["@language"];if(null===t)delete j["@language"];else{if(!s(t))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:e});t.match(h)||o.eventHandler&&p({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t}},options:o}),j["@language"]=t.toLowerCase()}v.set("@language",!0)}if("@direction"in e){const n=e["@direction"];if("json-ld-1.0"===t.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:e});if(null===n)delete j["@direction"];else{if("ltr"!==n&&"rtl"!==n)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:e});j["@direction"]=n}v.set("@direction",!0)}if("@propagate"in e){const o=e["@propagate"];if("json-ld-1.0"===t.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:e});if("boolean"!==typeof o)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:n});v.set("@propagate",!0)}if("@import"in e){const r=e["@import"];if("json-ld-1.0"===t.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:e});if(!s(r))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:n});const a=await o.contextResolver.resolve({activeCtx:t,context:r,documentLoader:o.documentLoader,base:o.base});if(1!==a.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:n});const l=a[0].getProcessed(t);if(l)e=l;else{const o=a[0].document;if("@import"in o)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:n});for(const t in o)e.hasOwnProperty(t)||(e[t]=o[t]);a[0].setProcessed(t,e)}v.set("@import",!0)}v.set("@protected",e["@protected"]||!1);for(const t in e)if(m.createTermDefinition({activeCtx:j,localCtx:e,term:t,defined:v,options:o,overrideProtected:f}),a(e[t])&&"@context"in e[t]){const n=e[t]["@context"];let r=!0;if(s(n)){const e=u(o.base,n);g.has(e)?r=!1:g.add(e)}if(r)try{await m.process({activeCtx:j.clone(),localCtx:e[t]["@context"],overrideProtected:!0,options:o,cycles:g})}catch(S){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:e[t]["@context"],term:t})}}r.setProcessed(t,{context:j,events:y})}return j},m.createTermDefinition=e=>{let t,{activeCtx:n,localCtx:o,term:l,defined:d,options:u,overrideProtected:h=!1}=e;if(d.has(l)){if(d.get(l))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:o,term:l})}if(d.set(l,!1),o.hasOwnProperty(l)&&(t=o[l]),"@type"===l&&a(t)&&"@set"===(t["@container"]||"@set")&&m.processingMode(n,1.1)){const e=["@container","@id","@protected"],n=Object.keys(t);if(0===n.length||n.some((t=>!e.includes(t))))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:o,term:l})}else{if(m.isKeyword(l))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:o,term:l});if(l.match(f))return void(u.eventHandler&&p({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:l}},options:u}));if(""===l)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:o})}const v=n.mappings.get(l);n.mappings.has(l)&&n.mappings.delete(l);let g=!1;if((s(t)||null===t)&&(g=!0,t={"@id":t}),!a(t))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:o});const y={};n.mappings.set(l,y),y.reverse=!1;const w=["@container","@id","@language","@reverse","@type"];m.processingMode(n,1.1)&&w.push("@context","@direction","@index","@nest","@prefix","@protected");for(const r in t)if(!w.includes(r))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+r,"jsonld.SyntaxError",{code:"invalid term definition",context:o});const I=l.indexOf(":");if(y._termHasColon=I>0,"@reverse"in t){if("@id"in t)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:o});if("@nest"in t)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:o});const e=t["@reverse"];if(!s(e))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o});if(e.match(f))return u.eventHandler&&p({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:e}},options:u}),void(v?n.mappings.set(l,v):n.mappings.delete(l));const r=x(n,e,{vocab:!0,base:!1},o,d,u);if(!c(r))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o});y["@id"]=r,y.reverse=!0}else if("@id"in t){let e=t["@id"];if(e&&!s(e))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o});if(null===e)y["@id"]=null;else{if(!m.isKeyword(e)&&e.match(f))return u.eventHandler&&p({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:e}},options:u}),void(v?n.mappings.set(l,v):n.mappings.delete(l));if(e!==l){if(e=x(n,e,{vocab:!0,base:!1},o,d,u),!c(e)&&!m.isKeyword(e))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o});if(l.match(/(?::[^:])|\//)){if(x(n,l,{vocab:!0,base:!1},o,new Map(d).set(l,!0),u)!==e)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o})}y["@id"]=e,y._prefix=g&&!y._termHasColon&&null!==e.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in y))if(y._termHasColon){const e=l.substr(0,I);if(o.hasOwnProperty(e)&&m.createTermDefinition({activeCtx:n,localCtx:o,term:e,defined:d,options:u}),n.mappings.has(e)){const t=l.substr(I+1);y["@id"]=n.mappings.get(e)["@id"]+t}else y["@id"]=l}else if("@type"===l)y["@id"]=l;else{if(!("@vocab"in n))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o,term:l});y["@id"]=n["@vocab"]+l}if((!0===t["@protected"]||!0===d.get("@protected")&&!1!==t["@protected"])&&(n.protected[l]=!0,y.protected=!0),d.set(l,!0),"@type"in t){let e=t["@type"];if(!s(e))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:o});if("@json"===e||"@none"===e){if(m.processingMode(n,1))throw new i("Invalid JSON-LD syntax; an @context @type value must not be "+'"'.concat(e,'" in JSON-LD 1.0 mode.'),"jsonld.SyntaxError",{code:"invalid type mapping",context:o})}else if("@id"!==e&&"@vocab"!==e){if(e=x(n,e,{vocab:!0,base:!1},o,d,u),!c(e))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:o});if(0===e.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:o})}y["@type"]=e}if("@container"in t){const e=s(t["@container"])?[t["@container"]]:t["@container"]||[],a=["@list","@set","@index","@language"];let l=!0;const c=e.includes("@set");if(m.processingMode(n,1.1)){if(a.push("@graph","@id","@type"),e.includes("@list")){if(1!==e.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:o})}else if(e.includes("@graph")){if(e.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:o})}else l&=e.length<=(c?2:1);if(e.includes("@type")&&(y["@type"]=y["@type"]||"@id",!["@id","@vocab"].includes(y["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:o})}else l&=!r(t["@container"]),l&=e.length<=1;if(l&=e.every((e=>a.includes(e))),l&=!(c&&e.includes("@list")),!l)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+a.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:o});if(y.reverse&&!e.every((e=>["@index","@set"].includes(e))))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:o});y["@container"]=e}if("@index"in t){if(!("@container"in t)||!y["@container"].includes("@index"))throw new i("Invalid JSON-LD syntax; @index without @index in @container: "+'"'.concat(t["@index"],'" on term "').concat(l,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:o});if(!s(t["@index"])||0===t["@index"].indexOf("@"))throw new i("Invalid JSON-LD syntax; @index must expand to an IRI: "+'"'.concat(t["@index"],'" on term "').concat(l,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:o});y["@index"]=t["@index"]}if("@context"in t&&(y["@context"]=t["@context"]),"@language"in t&&!("@type"in t)){let e=t["@language"];if(null!==e&&!s(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:o});null!==e&&(e=e.toLowerCase()),y["@language"]=e}if("@prefix"in t){if(l.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:o});if(m.isKeyword(y["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:o});if("boolean"!==typeof t["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:o});y._prefix=!0===t["@prefix"]}if("@direction"in t){const e=t["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:o});y["@direction"]=e}if("@nest"in t){const e=t["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:o});y["@nest"]=e}const j=y["@id"];if("@context"===j||"@preserve"===j)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:o});if(v&&v.protected&&!h&&(n.protected[l]=!0,y.protected=!0,!b(v,y)))throw new i("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:o,term:l})},m.expandIri=(e,t,n,o)=>x(e,t,n,void 0,void 0,o),m.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=y.get(t);if(n)return n;const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},o={},i=(e["@language"]||"@none").toLowerCase(),s=e["@direction"],l=e.mappings,c=[...l.keys()].sort(g);for(const r of c){const e=l.get(r);if(null===e)continue;let c=e["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===e["@id"])continue;const d=v(e["@id"]);for(const l of d){let d=t[l];const u=m.isKeyword(l);if(d)u||e._termHasColon||o[l].push(r);else if(t[l]=d={},!u&&!e._termHasColon){o[l]=[r];const e={iri:l,terms:o[l]};l[0]in n?n[l[0]].push(e):n[l[0]]=[e]}if(d[c]||(d[c]={"@language":{},"@type":{},"@any":{}}),d=d[c],a(r,d["@any"],"@none"),e.reverse)a(r,d["@type"],"@reverse");else if("@none"===e["@type"])a(r,d["@any"],"@none"),a(r,d["@language"],"@none"),a(r,d["@type"],"@none");else if("@type"in e)a(r,d["@type"],e["@type"]);else if("@language"in e&&"@direction"in e){const t=e["@language"],n=e["@direction"];a(r,d["@language"],t&&n?"".concat(t,"_").concat(n).toLowerCase():t?t.toLowerCase():n?"_".concat(n):"@null")}else"@language"in e?a(r,d["@language"],(e["@language"]||"@null").toLowerCase()):"@direction"in e?e["@direction"]?a(r,d["@language"],"_".concat(e["@direction"])):a(r,d["@language"],"@none"):s?(a(r,d["@language"],"_".concat(s)),a(r,d["@language"],"@none"),a(r,d["@type"],"@none")):(a(r,d["@language"],i),a(r,d["@language"],"@none"),a(r,d["@type"],"@none"))}}for(const a in n)r(n,a,1);return t},clone:function(){const e={};e.mappings=o.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=o.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone());e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]);"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e},revertToPreviousContext:function(){if(!this.previousContext)return this;return this.previousContext.clone()},protected:{}};return 1e4===y.size&&y.clear(),y.set(t,i),i;function r(e,t,n){const o=e[t],i=e[t]={};let a,s;for(const r of o)a=r.iri,s=n>=a.length?"":a[n],s in i?i[s].push(r):i[s]=[r];for(const l in i)""!==l&&r(i,l,n+1)}function a(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},m.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const o=e.mappings.get(t);if(l(n))return o;if(o.hasOwnProperty(n))return o[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},m.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,m.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},7830:(e,t,n)=>{"use strict";const{parseLinkHeader:o,buildHeaders:i}=n(1374),{LINK_HEADER_CONTEXT:r}=n(6504),a=n(1430),s=n(321),{prependBase:l}=n(8546),c=/(^|(\r\n))link:/i;e.exports=function(){let{secure:e,headers:t={},xhr:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}};t=i(t);return(new s).wrapLoader((async function i(s){if(0!==s.indexOf("http:")&&0!==s.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s});if(e&&0!==s.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:s});let d;try{d=await function(e,t,n){e=e||XMLHttpRequest;const o=new e;return new Promise(((e,i)=>{o.onload=()=>e(o),o.onerror=e=>i(e),o.open("GET",t,!0);for(const t in n)o.setRequestHeader(t,n[t]);o.send()}))}(n,s,t)}catch(v){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:v})}if(d.status>=400)throw new a("URL could not be dereferenced: "+d.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:s,httpStatusCode:d.status});let u={contextUrl:null,documentUrl:s,document:d.response},p=null;const h=d.getResponseHeader("Content-Type");let f;c.test(d.getAllResponseHeaders())&&(f=d.getResponseHeader("Link"));if(f&&"application/ld+json"!==h){const e=o(f),t=e[r];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s});t&&(u.contextUrl=t.target),p=e.alternate,p&&"application/ld+json"==p.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(u=await i(l(s,p.target)))}return u}))}},6557:(e,t,n)=>{"use strict";const o=n(1430),{isArray:i}=n(4256),{asArray:r}=n(1374),a={};function s(e){let{event:t,handlers:n}=e,r=!0;for(let a=0;r&&a<n.length;++a){r=!1;const e=n[a];if(i(e))r=s({event:t,handlers:e});else if("function"===typeof e)e({event:t,next:()=>{r=!0}});else{if("object"!==typeof e)throw new o("Invalid event handler.","jsonld.InvalidEventHandler",{event:t});t.code in e?e[t.code]({event:t,next:()=>{r=!0}}):r=!0}}return r}e.exports=a,a.defaultEventHandler=null,a.setupEventHandler=e=>{let{options:t={}}=e;const n=[].concat(t.safe?a.safeEventHandler:[],t.eventHandler?r(t.eventHandler):[],a.defaultEventHandler?a.defaultEventHandler:[]);return 0===n.length?null:n},a.handleEvent=e=>{let{event:t,options:n}=e;s({event:t,handlers:n.eventHandler})};const l=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);a.safeEventHandler=function(e){let{event:t,next:n}=e;if("warning"===t.level&&l.has(t.code))throw new o("Safe mode validation error.","jsonld.ValidationError",{event:t});n()},a.logEventHandler=function(e){let{event:t,next:n}=e;console.log("EVENT: ".concat(t.message),{event:t}),n()},a.logWarningEventHandler=function(e){let{event:t,next:n}=e;"warning"===t.level&&console.warn("WARNING: ".concat(t.message),{event:t}),n()},a.unhandledEventHandler=function(e){let{event:t}=e;throw new o("No handler for event.","jsonld.UnhandledEvent",{event:t})},a.setDefaultEventHandler=function(){let{eventHandler:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.defaultEventHandler=e?r(e):null}},7695:(e,t,n)=>{"use strict";const o=n(1430),{isArray:i,isObject:r,isEmptyObject:a,isString:s,isUndefined:l}=n(4256),{isList:c,isValue:d,isGraph:u,isSubject:p}=n(8538),{expandIri:h,getContextValue:f,isKeyword:v,process:g,processingMode:y}=n(1295),{isAbsolute:m}=n(8546),{REGEX_BCP47:x,REGEX_KEYWORD:b,addValue:w,asArray:I,getValues:j,validateTypeValue:S}=n(1374),{handleEvent:O}=n(6557),D={};function E(e){let{value:t,count:n,options:o}=e;if(0===n||"@value"in t||"@list"in t||1===n&&"@id"in t){if(o.eventHandler){let e,i;0===n?(e="empty object",i="Dropping empty object."):"@value"in t?(e="object with only @value",i="Dropping object with only @value."):"@list"in t?(e="object with only @list",i="Dropping object with only @list."):1===n&&"@id"in t&&(e="object with only @id",i="Dropping object with only @id."),O({event:{type:["JsonLdEvent"],code:e,level:"warning",message:i,details:{value:t}},options:o})}return null}return t}async function N(e){let{activeCtx:t,activeProperty:n,expandedActiveProperty:u,element:b,expandedParent:j,options:C={},insideList:A,typeKey:R,typeScopedContext:T}=e;const _=Object.keys(b).sort(),P=[];let J;const M=b[R]&&"@json"===h(t,i(b[R])?b[R][0]:b[R],{vocab:!0},{...C,typeExpansion:!0});for(const N of _){let e,A=b[N];if("@context"===N)continue;const R=h(t,N,{vocab:!0},C);if(null===R||!m(R)&&!v(R)){C.eventHandler&&O({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:N,expandedProperty:R}},options:C});continue}if(v(R)){if("@reverse"===u)throw new o("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:A});if(R in j&&"@included"!==R&&"@type"!==R)throw new o("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:R})}if("@id"===R){if(!s(A)){if(!C.isFrame)throw new o('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(r(A)){if(!a(A))throw new o('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}else{if(!i(A))throw new o('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(!A.every((e=>s(e))))throw new o('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}}w(j,"@id",I(A).map((e=>{if(s(e)){const n=h(t,e,{base:!0},C);return C.eventHandler&&(null===n?O(null===e?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:e}},options:C}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:e}},options:C}):m(n)||O({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:e,expandedId:n}},options:C})),n}return e})),{propertyIsArray:C.isFrame});continue}if("@type"===R){r(A)&&(A=Object.fromEntries(Object.entries(A).map((e=>{let[t,n]=e;return[h(T,t,{vocab:!0}),I(n).map((e=>h(T,e,{base:!0,vocab:!0},{...C,typeExpansion:!0})))]})))),S(A,C.isFrame),w(j,"@type",I(A).map((e=>{if(s(e)){const t=h(T,e,{base:!0,vocab:!0},{...C,typeExpansion:!0});return"@json"===t||m(t)||C.eventHandler&&O({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:e}},options:C}),t}return e})),{propertyIsArray:!!C.isFrame});continue}if("@included"===R&&y(t,1.1)){const e=I(await D.expand({activeCtx:t,activeProperty:n,element:A,options:C}));if(!e.every((e=>p(e))))throw new o("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:A});w(j,"@included",e,{propertyIsArray:!0});continue}if("@graph"===R&&!r(A)&&!i(A))throw new o('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:A});if("@value"===R){J=A,M&&y(t,1.1)?j["@value"]=A:w(j,"@value",A,{propertyIsArray:C.isFrame});continue}if("@language"===R){if(null===A)continue;if(!s(A)&&!C.isFrame)throw new o('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:A});A=I(A).map((e=>s(e)?e.toLowerCase():e));for(const e of A)s(e)&&!e.match(x)&&C.eventHandler&&O({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:C});w(j,"@language",A,{propertyIsArray:C.isFrame});continue}if("@direction"===R){if(!s(A)&&!C.isFrame)throw new o('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:A});A=I(A);for(const e of A)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new o('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:A});w(j,"@direction",A,{propertyIsArray:C.isFrame});continue}if("@index"===R){if(!s(A))throw new o('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:A});w(j,"@index",A);continue}if("@reverse"===R){if(!r(A))throw new o('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:A});if(e=await D.expand({activeCtx:t,activeProperty:"@reverse",element:A,options:C}),"@reverse"in e)for(const t in e["@reverse"])w(j,t,e["@reverse"][t],{propertyIsArray:!0});let n=j["@reverse"]||null;for(const t in e){if("@reverse"===t)continue;null===n&&(n=j["@reverse"]={}),w(n,t,[],{propertyIsArray:!0});const i=e[t];for(let r=0;r<i.length;++r){const a=i[r];if(d(a)||c(a))throw new o('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:e});w(n,t,a,{propertyIsArray:!0})}}continue}if("@nest"===R){P.push(N);continue}let _=t;const F=f(t,N,"@context");l(F)||(_=await g({activeCtx:t,localCtx:F,propagate:!0,overrideProtected:!0,options:C}));const H=f(t,N,"@container")||[];if(H.includes("@language")&&r(A)){e=k(_,A,f(_,N,"@direction"),C)}else if(H.includes("@index")&&r(A)){const n=H.includes("@graph"),o=f(_,N,"@index")||"@index",i="@index"!==o&&h(t,o,{vocab:!0},C);e=await L({activeCtx:_,options:C,activeProperty:N,value:A,asGraph:n,indexKey:o,propertyIndex:i})}else if(H.includes("@id")&&r(A)){const t=H.includes("@graph");e=await L({activeCtx:_,options:C,activeProperty:N,value:A,asGraph:t,indexKey:"@id"})}else if(H.includes("@type")&&r(A))e=await L({activeCtx:_.revertToPreviousContext(),options:C,activeProperty:N,value:A,asGraph:!1,indexKey:"@type"});else{const o="@list"===R;if(o||"@set"===R){let t=n;o&&"@graph"===u&&(t=null),e=await D.expand({activeCtx:_,activeProperty:t,element:A,options:C,insideList:o})}else e="@json"===f(t,N,"@type")?{"@type":"@json","@value":A}:await D.expand({activeCtx:_,activeProperty:N,element:A,options:C,insideList:!1})}if(null!==e||"@value"===R){if("@list"!==R&&!c(e)&&H.includes("@list")&&(e={"@list":I(e)}),H.includes("@graph")&&!H.some((e=>"@id"===e||"@index"===e))){if(e=I(e),C.isFrame||(e=e.filter((e=>null!==E({value:e,count:Object.keys(e).length,options:C})))),0===e.length)continue;e=e.map((e=>({"@graph":I(e)})))}if(_.mappings.has(N)&&_.mappings.get(N).reverse){const t=j["@reverse"]=j["@reverse"]||{};e=I(e);for(let n=0;n<e.length;++n){const i=e[n];if(d(i)||c(i))throw new o('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:e});w(t,R,i,{propertyIsArray:!0})}}else w(j,R,e,{propertyIsArray:!0})}}if("@value"in j)if("@json"===j["@type"]&&y(t,1.1));else if((r(J)||i(J))&&!C.isFrame)throw new o('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:J});for(const a of P){const e=i(b[a])?b[a]:[b[a]];for(const i of e){if(!r(i)||Object.keys(i).some((e=>"@value"===h(t,e,{vocab:!0},C))))throw new o("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await N({activeCtx:t,activeProperty:n,expandedActiveProperty:u,element:i,expandedParent:j,options:C,insideList:A,typeScopedContext:T,typeKey:R})}}}function C(e){let{activeCtx:t,activeProperty:n,value:o,options:i}=e;if(null===o||void 0===o)return null;const r=h(t,n,{vocab:!0},i);if("@id"===r)return h(t,o,{base:!0},i);if("@type"===r)return h(t,o,{vocab:!0,base:!0},{...i,typeExpansion:!0});const a=f(t,n,"@type");if(("@id"===a||"@graph"===r)&&s(o)){const e=h(t,o,{base:!0},i);return null===e&&o.match(b)&&i.eventHandler&&O({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:n}},options:i}),{"@id":e}}if("@vocab"===a&&s(o))return{"@id":h(t,o,{vocab:!0,base:!0},i)};if(v(r))return o;const l={};if(a&&!["@id","@vocab","@none"].includes(a))l["@type"]=a;else if(s(o)){const e=f(t,n,"@language");null!==e&&(l["@language"]=e);const o=f(t,n,"@direction");null!==o&&(l["@direction"]=o)}return["boolean","number","string"].includes(typeof o)||(o=o.toString()),l["@value"]=o,l}function k(e,t,n,r){const a=[],l=Object.keys(t).sort();for(const c of l){const l=h(e,c,{vocab:!0},r);let d=t[c];i(d)||(d=[d]);for(const e of d){if(null===e)continue;if(!s(e))throw new o("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==l&&(c.match(x)||r.eventHandler&&O({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:c}},options:r}),i["@language"]=c.toLowerCase()),n&&(i["@direction"]=n),a.push(i)}}return a}async function L(e){let{activeCtx:t,options:n,activeProperty:r,value:a,asGraph:s,indexKey:c,propertyIndex:p}=e;const v=[],y=Object.keys(a).sort(),m="@type"===c;for(let x of y){if(m){const e=f(t,x,"@context");l(e)||(t=await g({activeCtx:t,localCtx:e,propagate:!1,options:n}))}let e,y=a[x];i(y)||(y=[y]),y=await D.expand({activeCtx:t,activeProperty:r,element:y,options:n,insideList:!1,insideIndex:!0}),e=p?"@none"===x?"@none":C({activeCtx:t,activeProperty:c,value:x,options:n}):h(t,x,{vocab:!0},n),"@id"===c?x=h(t,x,{base:!0},n):m&&(x=e);for(let t of y){if(s&&!u(t)&&(t={"@graph":[t]}),"@type"===c)"@none"===e||(t["@type"]?t["@type"]=[x].concat(t["@type"]):t["@type"]=[x]);else{if(d(t)&&!["@language","@type","@index"].includes(c))throw new o("Invalid JSON-LD syntax; Attempt to add illegal key to value "+'object: "'.concat(c,'".'),"jsonld.SyntaxError",{code:"invalid value object",value:t});p?"@none"!==e&&w(t,p,e,{propertyIsArray:!0,prependValue:!0}):"@none"===e||c in t||(t[c]=x)}v.push(t)}}return v}e.exports=D,D.expand=async e=>{let{activeCtx:t,activeProperty:n=null,element:c,options:d={},insideList:u=!1,insideIndex:p=!1,typeScopedContext:v=null}=e;if(null===c||void 0===c)return null;if("@default"===n&&(d=Object.assign({},d,{isFrame:!1})),!i(c)&&!r(c))return u||null!==n&&"@graph"!==h(t,n,{vocab:!0},d)?C({activeCtx:t,activeProperty:n,value:c,options:d}):(d.eventHandler&&O({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:c}},options:d}),null);if(i(c)){let e=[];const o=f(t,n,"@container")||[];u=u||o.includes("@list");for(let r=0;r<c.length;++r){let o=await D.expand({activeCtx:t,activeProperty:n,element:c[r],options:d,insideIndex:p,typeScopedContext:v});u&&i(o)&&(o={"@list":o}),null!==o&&(i(o)?e=e.concat(o):e.push(o))}return e}const x=h(t,n,{vocab:!0},d),b=f(t,n,"@context");v=v||(t.previousContext?t:null);let w=Object.keys(c).sort(),S=!p;if(S&&v&&w.length<=2&&!w.includes("@context"))for(const o of w){const e=h(v,o,{vocab:!0},d);if("@value"===e){S=!1,t=v;break}if("@id"===e&&1===w.length){S=!1;break}}S&&(t=t.revertToPreviousContext()),l(b)||(t=await g({activeCtx:t,localCtx:b,propagate:!0,overrideProtected:!0,options:d})),"@context"in c&&(t=await g({activeCtx:t,localCtx:c["@context"],options:d})),v=t;let k=null;for(const o of w){if("@type"===h(t,o,{vocab:!0},d)){k=k||o;const e=c[o],n=Array.isArray(e)?e.length>1?e.slice().sort():e:[e];for(const o of n){const e=f(v,o,"@context");l(e)||(t=await g({activeCtx:t,localCtx:e,options:d,propagate:!1}))}}}let L={};await N({activeCtx:t,activeProperty:n,expandedActiveProperty:x,element:c,expandedParent:L,options:d,insideList:u,typeKey:k,typeScopedContext:v}),w=Object.keys(L);let A=w.length;if("@value"in L){if("@type"in L&&("@language"in L||"@direction"in L))throw new o('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:L});let e=A-1;if("@type"in L&&(e-=1),"@index"in L&&(e-=1),"@language"in L&&(e-=1),"@direction"in L&&(e-=1),0!==e)throw new o('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:L});const n=null===L["@value"]?[]:I(L["@value"]),i=j(L,"@type");if(y(t,1.1)&&i.includes("@json")&&1===i.length);else if(0===n.length)d.eventHandler&&O({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:L}},options:d}),L=null;else{if(!n.every((e=>s(e)||a(e)))&&"@language"in L)throw new o("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:L});if(!i.every((e=>m(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e))))throw new o('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:L})}}else if("@type"in L&&!i(L["@type"]))L["@type"]=[L["@type"]];else if("@set"in L||"@list"in L){if(A>1&&(2!==A||!("@index"in L)))throw new o('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:L});"@set"in L&&(L=L["@set"],w=Object.keys(L),A=w.length)}else 1===A&&"@language"in L&&(d.eventHandler&&O({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:L}},options:d}),L=null);return!r(L)||d.keepFreeFloatingNodes||u||null!==n&&"@graph"!==x&&!(f(t,n,"@container")||[]).includes("@graph")||(L=E({value:L,count:A,options:d})),L}},1098:(e,t,n)=>{"use strict";const{isSubjectReference:o}=n(8538),{createMergedNodeMap:i}=n(3595),r={};e.exports=r,r.flatten=e=>{const t=i(e),n=[],r=Object.keys(t).sort();for(let i=0;i<r.length;++i){const e=t[r[i]];o(e)||n.push(e)}return n}},5239:(e,t,n)=>{"use strict";const{isKeyword:o}=n(1295),i=n(8538),r=n(4256),a=n(1374),s=n(8546),l=n(1430),{createNodeMap:c,mergeNodeMapGraphs:d}=n(3595),u={};function p(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function h(e,t,n){for(let o=n.length-1;o>=0;--o){const i=n[o];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function f(e,t,n){const o="@"+n;let i=o in e?e[o][0]:t[n];if("embed"===n)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function v(e){if(!r.isArray(e)||1!==e.length||!r.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of a.asArray(e[0]["@id"]))if(!r.isObject(t)&&!s.isAbsolute(t)||r.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of a.asArray(e[0]["@type"]))if(!r.isObject(t)&&!s.isAbsolute(t)&&"@json"!==t||r.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function g(e,t,n,s){let l=!0,c=!1;for(const d in n){let u=!1;const p=a.getValues(t,d),h=0===a.getValues(n,d).length;if("@id"===d){if(r.isEmptyObject(n["@id"][0]||{})?u=!0:n["@id"].length>=0&&(u=n["@id"].includes(p[0])),!s.requireAll)return u}else if("@type"===d){if(l=!1,h){if(p.length>0)return!1;u=!0}else if(1===n["@type"].length&&r.isEmptyObject(n["@type"][0]))u=p.length>0;else for(const e of n["@type"])u=!(!r.isObject(e)||!("@default"in e))||(u||p.some((t=>t===e)));if(!s.requireAll)return u}else{if(o(d))continue;{const t=a.getValues(n,d)[0];let o=!1;if(t&&(v([t]),o="@default"in t),l=!1,0===p.length&&o)continue;if(p.length>0&&h)return!1;if(void 0===t){if(p.length>0)return!1;u=!0}else if(i.isList(t)){const n=t["@list"][0];if(i.isList(p[0])){const t=p[0]["@list"];i.isValue(n)?u=t.some((e=>w(n,e))):(i.isSubject(n)||i.isSubjectReference(n))&&(u=t.some((t=>b(e,n,t,s))))}}else u=i.isValue(t)?p.some((e=>w(t,e))):i.isSubjectReference(t)?p.some((n=>b(e,t,n,s))):!!r.isObject(t)&&p.length>0}}if(!u&&s.requireAll)return!1;c=c||u}return l||c}function y(e,t){const n=e.uniqueEmbeds[e.graph],o=n[t],i=o.parent,s=o.property,l={"@id":t};if(r.isArray(i)){for(let r=0;r<i.length;++r)if(a.compareValues(i[r],l)){i[r]=l;break}}else{const e=r.isArray(i[s]);a.removeValue(i,s,l,{propertyIsArray:e}),a.addValue(i,s,l,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const o of t)o in n&&r.isObject(n[o].parent)&&n[o].parent["@id"]===e&&(delete n[o],c(o))};c(t)}function m(e,t){if(r.isArray(e))return e.map((e=>m(e,t)));if(r.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(i.isValue(e))return e;if(i.isList(e))return e["@list"]=m(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const o=t.link[n].indexOf(e);if(-1!==o)return t.link[n][o];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)"@id"===n&&t.bnodesToClear.includes(e[n])?delete e["@id"]:e[n]=m(e[n],t)}return e}function x(e,t,n){r.isObject(e)?a.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function b(e,t,n,o){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&g(e,i,t,o)}function w(e,t){const n=t["@value"],o=t["@type"],i=t["@language"],a=e["@value"]?r.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?r.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?r.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===l.length||!(!a.includes(n)&&!r.isEmptyObject(a[0]))&&(!!(!o&&0===s.length||s.includes(o)||o&&r.isEmptyObject(s[0]))&&!!(!i&&0===l.length||l.includes(i)||i&&r.isEmptyObject(l[0])))}e.exports=u,u.frameMergedOrDefault=(e,t,n)=>{const o={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new a.IdentifierIssuer("_:b");c(e,o.graphMap,"@default",i),n.merged&&(o.graphMap["@merged"]=d(o.graphMap),o.graph="@merged"),o.subjects=o.graphMap[o.graph];const r=[];return u.frame(o,Object.keys(o.subjects).sort(),t,r),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(o.bnodeMap).filter((e=>1===o.bnodeMap[e].length))),n.link={},m(r,n)},u.frame=function(e,t,n,s){let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;v(n),n=n[0];const d=e.options,m={embed:f(n,d,"embed"),explicit:f(n,d,"explicit"),requireAll:f(n,d,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const b=e.link[e.graph],I=function(e,t,n,o){const i={};for(const r of t){const t=e.graphMap[e.graph][r];g(e,t,n,o)&&(i[r]=t)}return i}(e,t,n,m),j=Object.keys(I).sort();for(const v of j){const g=I[v];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===m.embed&&v in b){x(s,c,b[v]);continue}const j={"@id":v};if(0===v.indexOf("_:")&&a.addValue(e.bnodeMap,v,j,{propertyIsArray:!0}),b[v]=j,("@first"===m.embed||"@last"===m.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(v))if(!e.embedded||"@never"!==m.embed&&!h(g,e.graph,e.subjectStack))if(!e.embedded||"@first"!=m.embed&&"@once"!=m.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(v)){if("@last"===m.embed&&v in e.uniqueEmbeds[e.graph]&&y(e,v),e.uniqueEmbeds[e.graph][v]={parent:s,property:c},e.subjectStack.push({subject:g,graph:e.graph}),v in e.graphMap){let t=!1,o=null;"@graph"in n?(o=n["@graph"][0],t=!("@merged"===v||"@default"===v),r.isObject(o)||(o={})):(t="@merged"!==e.graph,o={}),t&&u.frame({...e,graph:v,embedded:!1},Object.keys(e.graphMap[v]).sort(),[o],j,"@graph")}"@included"in n&&u.frame({...e,embedded:!1},t,n["@included"],j,"@included");for(const t of Object.keys(g).sort())if(o(t)){if(j[t]=a.clone(g[t]),"@type"===t)for(const n of g["@type"])0===n.indexOf("_:")&&a.addValue(e.bnodeMap,n,j,{propertyIsArray:!0})}else if(!m.explicit||t in n)for(const o of g[t]){const r=t in n?n[t]:p(m);if(i.isList(o)){const r=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:p(m),s={"@list":[]};x(j,t,s);const l=o["@list"];for(const t of l)i.isSubjectReference(t)?u.frame({...e,embedded:!0},[t["@id"]],r,s,"@list"):x(s,"@list",a.clone(t))}else i.isSubjectReference(o)?u.frame({...e,embedded:!0},[o["@id"]],r,j,t):w(r[0],o)&&x(j,t,a.clone(o))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!r.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(o(e))continue;const t=n[e][0]||{};if(!f(t,d,"omitDefault")&&!(e in j)){let n="@null";"@default"in t&&(n=a.clone(t["@default"])),r.isArray(n)||(n=[n]),j[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const o=n["@reverse"][t];for(const n of Object.keys(e.subjects)){a.getValues(e.subjects[n],t).some((e=>e["@id"]===v))&&(j["@reverse"]=j["@reverse"]||{},a.addValue(j["@reverse"],t,[],{propertyIsArray:!0}),u.frame({...e,embedded:!0},[n],o,j["@reverse"][t],c))}}x(s,c,j),e.subjectStack.pop()}else x(s,c,j);else x(s,c,j)}},u.cleanupNull=(e,t)=>{if(r.isArray(e)){return e.map((e=>u.cleanupNull(e,t))).filter((e=>e))}if("@null"===e)return null;if(r.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const o=t.link[n].indexOf(e);if(-1!==o)return t.link[n][o];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=u.cleanupNull(e[n],t)}return e}},4214:(e,t,n)=>{"use strict";const o=n(1430),i=n(8538),r=n(4256),{REGEX_BCP47:a,addValue:s}=n(1374),{handleEvent:l}=n(6557),{RDF_LIST:c,RDF_FIRST:d,RDF_REST:u,RDF_NIL:p,RDF_TYPE:h,RDF_JSON_LITERAL:f,XSD_BOOLEAN:v,XSD_DOUBLE:g,XSD_INTEGER:y,XSD_STRING:m}=n(6504),x={};function b(e,t,n,i){const s=w(e);if(s)return{"@id":s};const c={"@value":e.value};if(e.language)e.language.match(a)||i.eventHandler&&l({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:i}),c["@language"]=e.language;else{let s=e.datatype.value;if(s||(s=m),s===f){s="@json";try{c["@value"]=JSON.parse(c["@value"])}catch(d){throw new o("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:c["@value"],cause:d})}}if(t)if(s===v)"true"===c["@value"]||"1"===c["@value"]?c["@value"]=!0:"false"===c["@value"]||"0"===c["@value"]?c["@value"]=!1:c["@type"]=s;else if(s===y)if(r.isNumeric(c["@value"])){const e=parseInt(c["@value"],10);e.toFixed(0)===c["@value"]&&(c["@value"]=e)}else c["@type"]=s;else s===g&&r.isNumeric(c["@value"])?c["@value"]=parseFloat(c["@value"]):c["@type"]=s;else if("i18n-datatype"===n&&s.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=s.split(/[#_]/);e.length>0&&(c["@language"]=e,e.match(a)||i.eventHandler&&l({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:i})),c["@direction"]=t}else s!==m&&(c["@type"]=s)}return c}function w(e){return"NamedNode"===e.termType?e.value:"BlankNode"===e.termType?"_:"+e.value:null}e.exports=x,x.fromRDF=async(e,t)=>{const{useRdfType:n=!1,useNativeTypes:a=!1,rdfDirection:l=null}=t,f={},v={"@default":f},g={};if(l){if("compound-literal"===l)throw new o("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:l});if("i18n-datatype"!==l)throw new o("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:l})}for(const o of e){const e="DefaultGraph"===o.graph.termType?"@default":o.graph.value;e in v||(v[e]={}),"@default"===e||e in f||(f[e]={"@id":e});const i=v[e],r=w(o.subject),c=o.predicate.value,d=o.object;r in i||(i[r]={"@id":r});const u=i[r],y=w(d),m=!!y;if(m&&!(y in i)&&(i[y]={"@id":y}),c===h&&!n&&m){s(u,"@type",y,{propertyIsArray:!0});continue}const x=b(d,a,l,t);if(s(u,c,x,{propertyIsArray:!0}),m)if(y===p){const e=i[y];"usages"in e||(e.usages=[]),e.usages.push({node:u,property:c,value:x})}else g[y]=!(y in g)&&{node:u,property:c,value:x}}for(const o in v){const e=v[o];if(!(p in e))continue;const t=e[p];if(t.usages){for(let n of t.usages){let t=n.node,o=n.property,a=n.value;const s=[],l=[];let p=Object.keys(t).length;for(;o===u&&r.isObject(g[t["@id"]])&&r.isArray(t[d])&&1===t[d].length&&r.isArray(t[u])&&1===t[u].length&&(3===p||4===p&&r.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===c)&&(s.push(t[d][0]),l.push(t["@id"]),n=g[t["@id"]],t=n.node,o=n.property,a=n.value,p=Object.keys(t).length,i.isBlankNode(t)););delete a["@id"],a["@list"]=s.reverse();for(const n of l)delete e[n]}delete t.usages}}const y=[],m=Object.keys(f).sort();for(const o of m){const e=f[o];if(o in v){const t=e["@graph"]=[],n=v[o],r=Object.keys(n).sort();for(const e of r){const o=n[e];i.isSubjectReference(o)||t.push(o)}}i.isSubjectReference(e)||y.push(e)}return y}},8538:(e,t,n)=>{"use strict";const o=n(4256),i={};e.exports=i,i.isSubject=e=>{if(o.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){return Object.keys(e).length>1||!("@id"in e)}return!1},i.isSubjectReference=e=>o.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>o.isObject(e)&&"@value"in e,i.isList=e=>o.isObject(e)&&"@list"in e,i.isGraph=e=>o.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>{if(o.isObject(e)){if("@id"in e){const t=e["@id"];return!o.isString(t)||0===t.indexOf("_:")}return 0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)}return!1}},2180:(e,t,n)=>{const o=n(5011),i=n(5790),r=n(1374),a=n(8542),s=r.IdentifierIssuer,l=n(1430),c=n(9341),d=n(564),{expand:u}=n(7695),{flatten:p}=n(1098),{fromRDF:h}=n(4214),{toRDF:f}=n(9466),{frameMergedOrDefault:v,cleanupNull:g}=n(5239),{isArray:y,isObject:m,isString:x}=n(4256),{isSubjectReference:b}=n(8538),{expandIri:w,getInitialContext:I,process:j,processingMode:S}=n(1295),{compact:O,compactIri:D}=n(6043),{createNodeMap:E,createMergedNodeMap:N,mergeNodeMaps:C}=n(3595),{logEventHandler:k,logWarningEventHandler:L,safeEventHandler:A,setDefaultEventHandler:R,setupEventHandler:T,strictEventHandler:_,unhandledEventHandler:P}=n(6557),J=function(e){const t={},J=new c({max:100});function M(t,n){let{documentLoader:o=e.documentLoader,...i}=n;if(t&&"compactionMap"in t)throw new l('"compactionMap" not supported.',"jsonld.OptionsError");if(t&&"expansionMap"in t)throw new l('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:o},i,t,{eventHandler:T({options:t})})}return e.compact=async function(t,n,o){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let i;(o=M(o,{base:x(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:J})})).link&&(o.skipExpansion=!0),o.compactToRelative||delete o.base,i=o.skipExpansion?t:await e.expand(t,o);const c=await e.processContext(I(o),n,o);let d=await O({activeCtx:c,element:i,options:o});o.compactArrays&&!o.graph&&y(d)?1===d.length?d=d[0]:0===d.length&&(d={}):o.graph&&m(d)&&(d=[d]),m(n)&&"@context"in n&&(n=n["@context"]),n=r.clone(n),y(n)||(n=[n]);const u=n;n=[];for(let e=0;e<u.length;++e)(!m(u[e])||Object.keys(u[e]).length>0)&&n.push(u[e]);const p=n.length>0;if(1===n.length&&(n=n[0]),y(d)){const e=D({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=d;d={},p&&(d["@context"]=n),d[e]=t}else if(m(d)&&p){const e=d;d={"@context":n};for(const t in e)d[t]=e[t]}return d},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const o={},i=[];if("expandContext"in(n=M(n,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:J})}))){const e=r.clone(n.expandContext);m(e)&&"@context"in e?o.expandContext=e:o.expandContext={"@context":e},i.push(o.expandContext)}let s;if(x(t)){const r=await e.get(t,n);s=r.documentUrl,o.input=r.document,r.contextUrl&&(o.remoteContext={"@context":r.contextUrl},i.push(o.remoteContext))}else o.input=r.clone(t);"base"in n||(n.base=s||"");let l=I(n);for(const e of i)l=await j({activeCtx:l,localCtx:e,options:n});let c=await u({activeCtx:l,element:o.input,options:n});return m(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),y(c)||(c=[c]),c},e.flatten=async function(t,n,o){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"===typeof n?null:n||null,o=M(o,{base:x(t)?t:"",contextResolver:new a({sharedCache:J})});const i=await e.expand(t,o),r=p(i);if(null===n)return r;o.graph=!0,o.skipExpansion=!0;return await e.compact(r,n,o)},e.frame=async function(t,n,o){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(o=M(o,{base:x(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:J})}),x(n)){const t=await e.get(n,o);if(n=t.document,t.contextUrl){let e=n["@context"];e?y(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const i=n&&n["@context"]||{},r=await e.processContext(I(o),i,o);o.hasOwnProperty("omitGraph")||(o.omitGraph=S(r,1.1)),o.hasOwnProperty("pruneBlankNodeIdentifiers")||(o.pruneBlankNodeIdentifiers=S(r,1.1));const s=await e.expand(t,o),l={...o};l.isFrame=!0,l.keepFreeFloatingNodes=!0;const c=await e.expand(n,l),d=Object.keys(n).map((e=>w(r,e,{vocab:!0})));l.merged=!d.includes("@graph"),l.is11=S(r,1.1);const u=v(s,c,l);l.graph=!o.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let p=await e.compact(u,i,l);return l.link={},p=g(p,l),p},e.link=async function(t,n,o){const i={};return n&&(i["@context"]=n),i["@embed"]="@link",e.frame(t,i,o)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");n=M(n,{skipExpansion:!1,safe:!0,contextResolver:new a({sharedCache:J})});const i=Object.assign({},{algorithm:"RDFC-1.0"},n.canonizeOptions||null);if("inputFormat"in n){if("application/n-quads"!==n.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");const e=d.parse(t);return o.canonize(e,i)}const r={...n};delete r.format,delete r.canonizeOptions,r.produceGeneralizedRdf=!1;const s=await e.toRDF(t,r);return o.canonize(s,i)},e.fromRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=M(n,{format:x(e)?"application/n-quads":void 0});const{format:o}=n;let{rdfParser:i}=n;if(o){if(i=i||t[o],!i)throw new l("Unknown input format.","jsonld.UnknownFormat",{format:o})}else i=()=>e;const r=await i(e);return h(r,n)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let o;o=(n=M(n,{skipExpansion:!1,contextResolver:new a({sharedCache:J})})).skipExpansion?t:await e.expand(t,n);const i=f(o,n);if(n.format){if("application/n-quads"===n.format)return d.serialize(i);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return i},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=M(n,{base:x(t)?t:"",contextResolver:new a({sharedCache:J})});const o=await e.expand(t,n);return N(o,n)},e.merge=async function(t,n,o){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!y(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"===typeof n?null:n||null,o=M(o,{contextResolver:new a({sharedCache:J})});const i=await Promise.all(t.map((t=>{const n={...o};return e.expand(t,n)})));let l=!0;"mergeNodes"in o&&(l=o.mergeNodes);const c=o.issuer||new s("_:b"),d={"@default":{}};for(let e=0;e<i.length;++e){const t=r.relabelBlankNodes(i[e],{issuer:new s("_:b"+e+"-")}),n=l||0===e?d:{"@default":{}};if(E(t,n,"@default",c),n!==d)for(const e in n){const t=n[e];if(!(e in d)){d[e]=t;continue}const o=d[e];for(const e in t)e in o||(o[e]=t[e])}}const u=C(d),p=[],h=Object.keys(u).sort();for(let e=0;e<h.length;++e){const t=u[h[e]];b(t)||p.push(t)}if(null===n)return p;o.graph=!0,o.skipExpansion=!0;return await e.compact(p,n,o)},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let o;o="function"===typeof n.documentLoader?n.documentLoader:e.documentLoader;const i=await o(t);try{if(!i.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");x(i.document)&&(i.document=JSON.parse(i.document))}catch(r){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:r,remoteDoc:i})}return i},e.processContext=async function(e,t,n){return n=M(n,{base:"",contextResolver:new a({sharedCache:J})}),null===t?I(n):(t=r.clone(t),m(t)&&"@context"in t||(t={"@context":t}),j({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=n(1295).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",d.parse),e.url=n(8546),e.logEventHandler=k,e.logWarningEventHandler=L,e.safeEventHandler=A,e.setDefaultEventHandler=R,e.strictEventHandler=_,e.unhandledEventHandler=P,e.util=r,Object.assign(e,r),e.promises=e,e.RequestQueue=n(321),e.JsonLdProcessor=n(8941)(e),i.setupGlobals(e),i.setupDocumentLoaders(e),e},M=function(){return J((function(){return M()}))};J(M),e.exports=M},3595:(e,t,n)=>{"use strict";const{isKeyword:o}=n(1295),i=n(8538),r=n(4256),a=n(1374),s=n(1430),l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{const n=(t=t||{}).issuer||new a.IdentifierIssuer("_:b"),o={"@default":{}};return l.createNodeMap(e,o,"@default",n),l.mergeNodeMaps(o)},l.createNodeMap=(e,t,n,c,d,u)=>{if(r.isArray(e)){for(const o of e)l.createNodeMap(o,t,n,c,void 0,u);return}if(!r.isObject(e))return void(u&&u.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(u&&u.push(e))}if(u&&i.isList(e)){const o=[];return l.createNodeMap(e["@list"],t,n,c,d,o),void u.push({"@list":o})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}r.isUndefined(d)&&(d=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),u&&u.push({"@id":d});const p=t[n],h=p[d]=p[d]||{};h["@id"]=d;const f=Object.keys(e).sort();for(let r of f){if("@id"===r)continue;if("@reverse"===r){const o={"@id":d},r=e["@reverse"];for(const e in r){const s=r[e];for(const r of s){let s=r["@id"];i.isBlankNode(r)&&(s=c.getId(s)),l.createNodeMap(r,t,n,c,s),a.addValue(p[s],e,o,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===r){d in t||(t[d]={}),l.createNodeMap(e[r],t,d,c);continue}if("@included"===r){l.createNodeMap(e[r],t,n,c);continue}if("@type"!==r&&o(r)){if("@index"===r&&r in h&&(e[r]!==h[r]||e[r]["@id"]!==h[r]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[r]=e[r];continue}const u=e[r];if(0===r.indexOf("_:")&&(r=c.getId(r)),0!==u.length)for(let e of u)if("@type"===r&&(e=0===e.indexOf("_:")?c.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const o=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"];a.addValue(h,r,{"@id":o},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,n,c,o)}else if(i.isValue(e))a.addValue(h,r,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){const o=[];l.createNodeMap(e["@list"],t,n,c,d,o),e={"@list":o},a.addValue(h,r,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,n,c,d),a.addValue(h,r,e,{propertyIsArray:!0,allowDuplicate:!1});else a.addValue(h,r,[],{propertyIsArray:!0})}},l.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const i of Object.keys(e[n]).sort()){const r=e[n][i];i in t||(t[i]={"@id":i});const s=t[i];for(const e of Object.keys(r).sort())if(o(e)&&"@type"!==e)s[e]=a.clone(r[e]);else for(const t of r[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const o of n){if("@default"===o)continue;const n=e[o];let r=t[o];r?"@graph"in r||(r["@graph"]=[]):t[o]=r={"@id":o,"@graph":[]};const a=r["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];i.isSubjectReference(t)||a.push(t)}}return t}},5790:(e,t,n)=>{"use strict";const o=n(7830),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!==typeof XMLHttpRequest&&(e.documentLoaders.xhr=o,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){"undefined"===typeof globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},9466:(e,t,n)=>{"use strict";const{createNodeMap:o}=n(3595),{isKeyword:i}=n(1295),r=n(8538),a=n(2094),s=n(1430),l=n(4256),c=n(1374),{handleEvent:d}=n(6557),{RDF_FIRST:u,RDF_REST:p,RDF_NIL:h,RDF_TYPE:f,RDF_JSON_LITERAL:v,RDF_LANGSTRING:g,XSD_BOOLEAN:y,XSD_DOUBLE:m,XSD_INTEGER:x,XSD_STRING:b}=n(6504),{isAbsolute:w}=n(8546),I={};function j(e,t,n,o,r){const a=Object.keys(t).sort();for(const s of a){const a=t[s],l=Object.keys(a).sort();for(let t of l){const l=a[t];if("@type"===t)t=f;else if(i(t))continue;for(const i of l){const a=O(s);if(!w(s)){r.eventHandler&&d({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:r});continue}const l=O(t);if(!w(t)){r.eventHandler&&d({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:t}},options:r});continue}if("BlankNode"===l.termType&&!r.produceGeneralizedRdf){r.eventHandler&&d({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:o.getOldIds().find((e=>o.getId(e)===t))}},options:r});continue}const c=S(i,o,e,n,r.rdfDirection,r);c&&e.push({subject:a,predicate:l,object:c,graph:n})}}}}function S(e,t,n,o,i,c){let f;if(r.isValue(e)){f={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)f.value=a(t),f.datatype.value=v;else if(l.isBoolean(t))f.value=t.toString(),f.datatype.value=n||y;else if(l.isDouble(t)||n===m)l.isDouble(t)||(t=parseFloat(t)),f.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),f.datatype.value=n||m;else if(l.isNumber(t))f.value=t.toFixed(0),f.datatype.value=n||x;else if("@direction"in e&&"i18n-datatype"===i){const n=(e["@language"]||"").toLowerCase(),o=e["@direction"],i="https://www.w3.org/ns/i18n#".concat(n,"_").concat(o);f.datatype.value=i,f.value=t}else{if("@direction"in e&&"compound-literal"===i)throw new s("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new s("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&c.eventHandler&&d({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:f.value}},options:c}),f.value=t,f.datatype.value=n||g,f.language=e["@language"]):("@direction"in e&&!i&&c.eventHandler&&d({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:f.value}},options:c}),f.value=t,f.datatype.value=n||b)}}else if(r.isList(e)){const r=function(e,t,n,o,i,r){const a={termType:"NamedNode",value:u},s={termType:"NamedNode",value:p},l={termType:"NamedNode",value:h},c=e.pop(),d=c?{termType:"BlankNode",value:t.getId().slice(2)}:l;let f=d;for(const u of e){const e=S(u,t,n,o,i,r),l={termType:"BlankNode",value:t.getId().slice(2)};n.push({subject:f,predicate:a,object:e,graph:o}),n.push({subject:f,predicate:s,object:l,graph:o}),f=l}if(c){const e=S(c,t,n,o,i,r);n.push({subject:f,predicate:a,object:e,graph:o}),n.push({subject:f,predicate:s,object:l,graph:o})}return d}(e["@list"],t,n,o,i,c);f={termType:r.termType,value:r.value}}else{f=O(l.isObject(e)?e["@id"]:e)}return"NamedNode"!==f.termType||w(f.value)?f:(c.eventHandler&&d({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:f.value}},options:c}),null)}function O(e){return e.startsWith("_:")?{termType:"BlankNode",value:e.slice(2)}:{termType:"NamedNode",value:e}}e.exports=I,I.toRDF=(e,t)=>{const n=new c.IdentifierIssuer("_:b"),i={"@default":{}};o(e,i,"@default",n);const r=[],a=Object.keys(i).sort();for(const o of a){let e;if("@default"===o)e={termType:"DefaultGraph",value:""};else{if(!w(o)){t.eventHandler&&d({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:o}},options:t});continue}e=O(o)}j(r,i[o],e,n,t)}return r}},4256:e=>{"use strict";const t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"===typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>"undefined"===typeof e},8546:(e,t,n)=>{"use strict";const o=n(4256),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{const n={},o=i.parsers[t||"full"],r=o.regex.exec(e);let a=o.keys.length;for(;a--;)n[o.keys[a]]=void 0===r[a]?null:r[a];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n},i.prependBase=(e,t)=>{if(null===e)return t;if(i.isAbsolute(t))return t;e&&!o.isString(e)||(e=i.parse(e||""));const n=i.parse(t),r={protocol:e.protocol||""};if(null!==n.authority)r.authority=n.authority,r.path=n.path,r.query=n.query;else if(r.authority=e.authority,""===n.path)r.path=e.path,null!==n.query?r.query=n.query:r.query=e.query;else{if(0===n.path.indexOf("/"))r.path=n.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,r.path=t}r.query=n.query}""!==n.path&&(r.path=i.removeDotSegments(r.path));let a=r.protocol;return null!==r.authority&&(a+="//"+r.authority),a+=r.path,null!==r.query&&(a+="?"+r.query),null!==n.fragment&&(a+="#"+n.fragment),""===a&&(a="./"),a},i.removeBase=(e,t)=>{if(null===e)return t;e&&!o.isString(e)||(e=i.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const r=i.parse(t.substr(n.length)),a=e.normalizedPath.split("/"),s=r.normalizedPath.split("/"),l=r.fragment||r.query?0:1;for(;a.length>0&&s.length>l&&a[0]===s[0];)a.shift(),s.shift();let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==r.query&&(c+="?"+r.query),null!==r.fragment&&(c+="#"+r.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];for(;t.length>0;){const e=t.shift(),o=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),o&&n.push("")):o&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const r=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>o.isString(e)&&r.test(e),i.isRelative=e=>o.isString(e)},1374:(e,t,n)=>{"use strict";const o=n(8538),i=n(4256),r=n(5011).IdentifierIssuer,a=n(1430),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,d={accept:"application/ld+json, application/json"},u={};function p(e,t){if(i.isArray(t))for(let n=0;n<t.length;++n)t[n]=p(e,t[n]);else if(o.isList(t))t["@list"]=p(e,t["@list"]);else if(i.isObject(t)){o.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let o=0;o<n.length;++o){const i=n[o];"@id"!==i&&(t[i]=p(e,t[i]))}}return t}e.exports=u,u.IdentifierIssuer=r,u.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,u.REGEX_KEYWORD=/^@[a-zA-Z]+$/,u.clone=function(e){if(e&&"object"===typeof e){let t;if(i.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=u.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,o]of e)t.set(n,u.clone(o))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(u.clone(n))}else if(i.isObject(e)){t={};for(const n in e)t[n]=u.clone(e[n])}else t=e.toString();return t}return e},u.asArray=function(e){return Array.isArray(e)?e:[e]},u.buildHeaders=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(e).some((e=>"accept"===e.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+d.accept+'" is supported.');return Object.assign({Accept:d.accept},e)},u.parseLinkHeader=e=>{const t={},n=e.match(s);for(let o=0;o<n.length;++o){let e=n[o].match(l);if(!e)continue;const i={target:e[1]},r=e[2];for(;e=c.exec(r);)i[e[1]]=void 0===e[2]?e[3]:e[2];const a=i.rel||"";Array.isArray(t[a])?t[a].push(i):t.hasOwnProperty(a)?t[a]=[t[a],i]:t[a]=i}return t},u.validateTypeValue=(e,t)=>{if(!i.isString(e)&&(!i.isArray(e)||!e.every((e=>i.isString(e))))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&u.asArray(e["@default"]).every((e=>i.isString(e))))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},u.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!i.isArray(n)||n.length>0}return!1},u.hasValue=(e,t,n)=>{if(u.hasProperty(e,t)){let r=e[t];const a=o.isList(r);if(i.isArray(r)||a){a&&(r=r["@list"]);for(let e=0;e<r.length;++e)if(u.compareValues(n,r[e]))return!0}else if(!i.isArray(n))return u.compareValues(n,r)}return!1},u.addValue=(e,t,n,o)=>{if("propertyIsArray"in(o=o||{})||(o.propertyIsArray=!1),"valueIsArray"in o||(o.valueIsArray=!1),"allowDuplicate"in o||(o.allowDuplicate=!0),"prependValue"in o||(o.prependValue=!1),o.valueIsArray)e[t]=n;else if(i.isArray(n)){0===n.length&&o.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),o.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let i=0;i<n.length;++i)u.addValue(e,t,n[i],o)}else if(e.hasOwnProperty(t)){const r=!o.allowDuplicate&&u.hasValue(e,t,n);i.isArray(e[t])||r&&!o.propertyIsArray||(e[t]=[e[t]]),r||(o.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=o.propertyIsArray?[n]:n},u.getValues=(e,t)=>[].concat(e[t]||[]),u.removeProperty=(e,t)=>{delete e[t]},u.removeValue=(e,t,n,o)=>{"propertyIsArray"in(o=o||{})||(o.propertyIsArray=!1);const i=u.getValues(e,t).filter((e=>!u.compareValues(e,n)));0===i.length?u.removeProperty(e,t):1!==i.length||o.propertyIsArray?e[t]=i:e[t]=i[0]},u.relabelBlankNodes=(e,t)=>p((t=t||{}).issuer||new r("_:b"),e),u.compareValues=(e,t)=>e===t||(!(!o.isValue(e)||!o.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),u.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},9341:(e,t,n)=>{"use strict";const o=n(400),i=Symbol("max"),r=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),d=Symbol("noDisposeOnSet"),u=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1;const v=(e,t,n)=>{const o=e[p].get(t);if(o){const t=o.value;if(g(e,t)){if(m(e,o),!e[s])return}else n&&(e[h]&&(o.value.now=Date.now()),e[u].unshiftNode(o));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},y=e=>{if(e[r]>e[i])for(let t=e[u].tail;e[r]>e[i]&&null!==t;){const n=t.prev;m(e,t),t=n}},m=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[r]-=n.length,e[p].delete(n.key),e[u].removeNode(t)}};class x{constructor(e,t,n,o,i){this.key=e,this.value=t,this.length=n,this.now=o,this.maxAge=i||0}}const b=(e,t,n,o)=>{let i=n.value;g(e,i)&&(m(e,n),e[s]||(i=void 0)),i&&t.call(o,i.value,i.key,e)};e.exports=class{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[a]="function"!==typeof t?f:t,this[s]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[d]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,y(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!==typeof e&&(e=f),e!==this[a]&&(this[a]=e,this[r]=0,this[u].forEach((e=>{e.length=this[a](e.value,e.key),this[r]+=e.length}))),y(this)}get lengthCalculator(){return this[a]}get length(){return this[r]}get itemCount(){return this[u].length}rforEach(e,t){t=t||this;for(let n=this[u].tail;null!==n;){const o=n.prev;b(this,e,n,t),n=o}}forEach(e,t){t=t||this;for(let n=this[u].head;null!==n;){const o=n.next;b(this,e,n,t),n=o}}keys(){return this[u].toArray().map((e=>e.key))}values(){return this[u].toArray().map((e=>e.value))}reset(){this[c]&&this[u]&&this[u].length&&this[u].forEach((e=>this[c](e.key,e.value))),this[p]=new Map,this[u]=new o,this[r]=0}dump(){return this[u].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[u]}set(e,t,n){if((n=n||this[l])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");const o=n?Date.now():0,s=this[a](t,e);if(this[p].has(e)){if(s>this[i])return m(this,this[p].get(e)),!1;const a=this[p].get(e).value;return this[c]&&(this[d]||this[c](e,a.value)),a.now=o,a.maxAge=n,a.value=t,this[r]+=s-a.length,a.length=s,this.get(e),y(this),!0}const h=new x(e,t,s,o,n);return h.length>this[i]?(this[c]&&this[c](e,t),!1):(this[r]+=h.length,this[u].unshift(h),this[p].set(e,this[u].head),y(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!g(this,t)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){const e=this[u].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const o=e[n],i=o.e||0;if(0===i)this.set(o.k,o.v);else{const e=i-t;e>0&&this.set(o.k,o.v,e)}}}prune(){this[p].forEach(((e,t)=>v(this,t,!1)))}}},5011:(e,t,n)=>{e.exports=n(3700)},851:e=>{"use strict";e.exports=class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.prefix=e,this._existing=t,this.counter=n}clone(){const{prefix:t,_existing:n,counter:o}=this;return new e(t,new Map(n),o)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},750:(e,t,n)=>{"use strict";const{bufferToHex:o,crypto:i}=n(5373),r=new Map([["sha256","SHA-256"],["SHA256","SHA-256"],["SHA-256","SHA-256"],["sha384","SHA-384"],["SHA384","SHA-384"],["SHA-384","SHA-384"],["sha512","SHA-512"],["SHA512","SHA-512"],["SHA-512","SHA-512"]]);e.exports=class{constructor(e){if(!i||!i.subtle)throw new Error("crypto.subtle not found.");if(!r.has(e))throw new Error('Unsupported algorithm "'.concat(e,'".'));this.algorithm=r.get(e),this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=await i.subtle.digest(this.algorithm,e);return o(t)}}},208:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",n="http://www.w3.org/2001/XMLSchema#string",o="NamedNode",i="BlankNode",r="Literal",a={};function s(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==r||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}(()=>{const e="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",t=e+"0-9-\xb7\u0300-\u036f\u203f-\u2040",n="_:((?:["+e+"0-9])(?:(?:["+t+".])*(?:["+t+"]))?)",o='(?:<((?:[^\0- <>"{}|^`\\\\]|\\\\u[0-9A-Fa-f]{4}|\\\\U[0-9A-Fa-f]{8})*)>)',i="[ \\t]+",r="[ \\t]*",s="(?:"+o+"|"+n+")"+i,l=o+i,c="(?:"+o+"|"+n+"|"+('(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:'+("(?:\\^\\^"+o+")")+"|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?)")+")"+r,d="(?:\\.|(?:(?:"+o+"|"+n+")"+r+"\\.))";a.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,a.empty=new RegExp("^"+r+"$"),a.quad=new RegExp("^"+r+s+l+c+d+r+"$")})(),e.exports=class e{static parse(e){const l=[],c={},d=e.split(a.eoln);let p=0;for(const h of d){if(p++,a.empty.test(h))continue;const e=h.match(a.quad);if(null===e)throw new Error("N-Quads parse error on line "+p+".");const d={subject:null,predicate:null,object:null,graph:null};if(void 0!==e[1]?d.subject={termType:o,value:g(e[1])}:d.subject={termType:i,value:e[2]},d.predicate={termType:o,value:g(e[3])},void 0!==e[4]?d.object={termType:o,value:g(e[4])}:void 0!==e[5]?d.object={termType:i,value:e[5]}:(d.object={termType:r,value:void 0,datatype:{termType:o}},void 0!==e[7]?d.object.datatype.value=g(e[7]):void 0!==e[8]?(d.object.datatype.value=t,d.object.language=e[8]):d.object.datatype.value=n,d.object.value=u(e[6])),void 0!==e[9]?d.graph={termType:o,value:g(e[9])}:void 0!==e[10]?d.graph={termType:i,value:e[10]}:d.graph={termType:"DefaultGraph",value:""},d.graph.value in c){let e=!0;const t=c[d.graph.value];for(const n of t)if(s(n,d)){e=!1;break}e&&(t.push(d),l.push(d))}else c[d.graph.value]=[d],l.push(d)}return l}static serialize(t){const n=[];for(const o of t)n.push(e.serializeQuad(o));return n.sort().join("")}static serializeQuadComponents(e,r,a,s){let d="";return e.termType===o?d+="<".concat(f(e.value),">"):d+="_:".concat(e.value),r.termType===o?d+=" <".concat(f(r.value),"> "):d+=" _:".concat(r.value," "),a.termType===o?d+="<".concat(f(a.value),">"):a.termType===i?d+="_:".concat(a.value):(d+='"'.concat(function(e){if(!l.test(e))return e;return e.replace(l,(function(e){return c[e.codePointAt(0)]}))}(a.value),'"'),a.datatype.value===t?a.language&&(d+="@".concat(a.language)):a.datatype.value!==n&&(d+="^^<".concat(f(a.datatype.value),">"))),s.termType===o?d+=" <".concat(f(s.value),">"):s.termType===i&&(d+=" _:".concat(s.value)),d+=" .\n",d}static serializeQuad(t){return e.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}};const l=/[\u0000-\u001F\u007F"\\]/g,c=[];for(let y=0;y<=127;++y)l.test(String.fromCharCode(y))&&(c[y]="\\u"+y.toString(16).toUpperCase().padStart(4,"0"),l.lastIndex=0);c["\b".codePointAt(0)]="\\b",c["\t".codePointAt(0)]="\\t",c["\n".codePointAt(0)]="\\n",c["\f".codePointAt(0)]="\\f",c["\r".codePointAt(0)]="\\r",c['"'.codePointAt(0)]='\\"',c["\\".codePointAt(0)]="\\\\";const d=/(?:\\([btnfr"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function u(e){return d.test(e)?e.replace(d,(function(e,t,n,o){if(t)switch(t){case"b":return"\b";case"t":return"\t";case"n":return"\n";case"f":return"\f";case"r":return"\r";case'"':return'"';case"'":return"'";case"\\":return"\\"}return n?String.fromCharCode(parseInt(n,16)):o?String.fromCodePoint(parseInt(o,16)):void 0})):e}const p=/[\u0000-\u0020<>"{}|^`\\]/g,h=[];for(let y=0;y<=127;++y)p.test(String.fromCharCode(y))&&(h[y]="\\u"+y.toString(16).toUpperCase().padStart(4,"0"),p.lastIndex=0);function f(e){return p.test(e)?e.replace(p,(function(e){return h[e.codePointAt(0)]})):e}const v=/(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function g(e){return v.test(e)?e.replace(v,(function(e,t,n){return t?String.fromCharCode(parseInt(t,16)):n?String.fromCodePoint(parseInt(n,16)):void 0})):e}},6595:e=>{"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,n=e.slice();let o=null,i=0;const r=e.length;for(let a=0;a<r;++a){const n=e[a],s=t.get(n);(null===o||n>o)&&(s&&a>0&&n>e[a-1]||!s&&a<r-1&&n>e[a+1])&&(o=n,i=a)}if(null===o)this.done=!0;else{const n=t.get(o)?i-1:i+1;e[i]=e[n],e[n]=o;for(const i of e)i>o&&t.set(i,!t.get(i))}return n}}},2484:(e,t,n)=>{"use strict";const o=n(851),i=n(750),r=n(6595),a=n(208),{setImmediate:s}=n(5373);function l(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){let{createMessageDigest:e=null,messageDigestAlgorithm:t="sha256",canonicalIdMap:n=new Map,maxWorkFactor:r=1,maxDeepIterations:a=-1,signal:s=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="RDFC-1.0",this.blankNodeInfo=new Map,this.canonicalIssuer=new o("c14n",n),this.createMessageDigest=e||(()=>new i(t)),this.maxWorkFactor=r,this.maxDeepIterations=a,this.remainingDeepIterations=0,this.signal=s,this.quads=null}async main(e){this.quads=e;for(const o of e)this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const o of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:o,hashToBlankNodes:t});const r=[...t.keys()].sort(),s=[];for(const o of r){const e=t.get(o);if(e.length>1){s.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}if(this.maxDeepIterations<0)if(0===this.maxWorkFactor)this.maxDeepIterations=0;else if(this.maxWorkFactor===1/0)this.maxDeepIterations=1/0;else{const e=s.reduce(((e,t)=>e+t.length),0);this.maxDeepIterations=e**this.maxWorkFactor}this.maxDeepIterations>Number.MAX_SAFE_INTEGER&&(this.maxDeepIterations=1/0),this.remainingDeepIterations=this.maxDeepIterations;for(const a of s){const e=[];for(const t of a){if(this.canonicalIssuer.hasId(t))continue;const n=new o("b");n.getId(t);const i=await this.hashNDegreeQuads(t,n);e.push(i)}e.sort(l);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const c=[];for(const o of this.quads){const e=a.serializeQuadComponents(this._componentWithCanonicalId(o.subject),o.predicate,this._componentWithCanonicalId(o.object),this._componentWithCanonicalId(o.graph));c.push(e)}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),o=n.quads;for(const r of o)t.push(a.serializeQuadComponents(this.modifyFirstDegreeComponent(e,r.subject,"subject"),r.predicate,this.modifyFirstDegreeComponent(e,r.object,"object"),this.modifyFirstDegreeComponent(e,r.graph,"graph")));t.sort();const i=this.createMessageDigest();for(const r of t)i.update(r);return n.hash=await i.digest(),n.hash}async hashRelatedBlankNode(e,t,n,o){const i=this.createMessageDigest();let r;return i.update(o),"g"!==o&&i.update(this.getRelatedPredicate(t)),r=this.canonicalIssuer.hasId(e)?"_:"+this.canonicalIssuer.getId(e):n.hasId(e)?"_:"+n.getId(e):this.blankNodeInfo.get(e).hash,i.update(r),i.digest()}async hashNDegreeQuads(e,t){if(0===this.remainingDeepIterations)throw new Error("Maximum deep iterations exceeded (".concat(this.maxDeepIterations,")."));this.remainingDeepIterations--;const n=this.createMessageDigest(),o=await this.createHashToRelated(e,t),i=[...o.keys()].sort();for(const a of i){n.update(a);let e,i="";const s=new r(o.get(a));let l=0;for(;s.hasNext();){const n=s.next();if(++l%3===0){if(this.signal&&this.signal.aborted)throw new Error('Abort signal received: "'.concat(this.signal.reason,'".'));await this._yield()}let o=t.clone(),r="";const a=[];let c=!1;for(const e of n)if(this.canonicalIssuer.hasId(e)?r+="_:"+this.canonicalIssuer.getId(e):(o.hasId(e)||a.push(e),r+="_:"+o.getId(e)),0!==i.length&&r>i){c=!0;break}if(!c){for(const e of a){const t=await this.hashNDegreeQuads(e,o);if(r+="_:"+o.getId(e),r+="<".concat(t.hash,">"),o=t.issuer,0!==i.length&&r>i){c=!0;break}}c||(0===i.length||r<i)&&(i=r,e=o)}}n.update(i),t=e}return{hash:await n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"a":"z"}}getRelatedPredicate(e){return"<".concat(e.predicate.value,">")}async createHashToRelated(e,t){const n=new Map,o=this.blankNodeInfo.get(e).quads;let i=0;for(const r of o)++i%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:r,component:r.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode(e){let{id:t,hashToBlankNodes:n}=e;const o=await this.hashFirstDegreeQuads(t),i=n.get(o);i?i.push(t):n.set(o,[t])}_addBlankNodeQuadInfo(e){let{quad:t,component:n}=e;if("BlankNode"!==n.termType)return;const o=n.value,i=this.blankNodeInfo.get(o);i?i.quads.add(t):this.blankNodeInfo.set(o,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash(e){let{quad:t,component:n,position:o,id:i,issuer:r,hashToRelated:a}=e;if("BlankNode"!==n.termType||n.value===i)return;const s=n.value,l=await this.hashRelatedBlankNode(s,t,r,o),c=a.get(l);c?c.push(s):a.set(l,[s])}_componentWithCanonicalId(e){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise((e=>s(e)))}}},3045:(e,t,n)=>{"use strict";const o=n(851),i=n(750),r=n(6595),a=n(208);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){let{createMessageDigest:e=null,messageDigestAlgorithm:t="sha256",canonicalIdMap:n=new Map,maxWorkFactor:r=1,maxDeepIterations:a=-1,timeout:s=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="RDFC-1.0",this.blankNodeInfo=new Map,this.canonicalIssuer=new o("c14n",n),this.createMessageDigest=e||(()=>new i(t)),this.maxWorkFactor=r,this.maxDeepIterations=a,this.remainingDeepIterations=0,this.timeout=s,s>0&&(this.startTime=Date.now()),this.quads=null}main(e){this.quads=e;for(const o of e)this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];for(const o of n)this._hashAndTrackBlankNode({id:o,hashToBlankNodes:t});const i=[...t.keys()].sort(),r=[];for(const o of i){const e=t.get(o);if(e.length>1){r.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}if(this.maxDeepIterations<0)if(0===this.maxWorkFactor)this.maxDeepIterations=0;else if(this.maxWorkFactor===1/0)this.maxDeepIterations=1/0;else{const e=r.reduce(((e,t)=>e+t.length),0);this.maxDeepIterations=e**this.maxWorkFactor}this.maxDeepIterations>Number.MAX_SAFE_INTEGER&&(this.maxDeepIterations=1/0),this.remainingDeepIterations=this.maxDeepIterations;for(const a of r){const e=[];for(const t of a){if(this.canonicalIssuer.hasId(t))continue;const n=new o("b");n.getId(t);const i=this.hashNDegreeQuads(t,n);e.push(i)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const l=[];for(const o of this.quads){const e=a.serializeQuadComponents(this._componentWithCanonicalId(o.subject),o.predicate,this._componentWithCanonicalId(o.object),this._componentWithCanonicalId(o.graph));l.push(e)}return l.sort(),l.join("")}hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),o=n.quads;for(const r of o)t.push(a.serializeQuadComponents(this.modifyFirstDegreeComponent(e,r.subject,"subject"),r.predicate,this.modifyFirstDegreeComponent(e,r.object,"object"),this.modifyFirstDegreeComponent(e,r.graph,"graph")));t.sort();const i=this.createMessageDigest();for(const r of t)i.update(r);return n.hash=i.digest(),n.hash}hashRelatedBlankNode(e,t,n,o){const i=this.createMessageDigest();let r;return i.update(o),"g"!==o&&i.update(this.getRelatedPredicate(t)),r=this.canonicalIssuer.hasId(e)?"_:"+this.canonicalIssuer.getId(e):n.hasId(e)?"_:"+n.getId(e):this.blankNodeInfo.get(e).hash,i.update(r),i.digest()}hashNDegreeQuads(e,t){if(0===this.remainingDeepIterations)throw new Error("Maximum deep iterations exceeded (".concat(this.maxDeepIterations,")."));this.remainingDeepIterations--;const n=this.createMessageDigest(),o=this.createHashToRelated(e,t),i=[...o.keys()].sort();for(const a of i){n.update(a);let e,i="";const s=new r(o.get(a));let l=0;for(;s.hasNext();){const n=s.next();if(++l%3===0&&this.timeout>0&&Date.now()-this.startTime>this.timeout)throw new Error("Canonize timeout.");let o=t.clone(),r="";const a=[];let c=!1;for(const e of n)if(this.canonicalIssuer.hasId(e)?r+="_:"+this.canonicalIssuer.getId(e):(o.hasId(e)||a.push(e),r+="_:"+o.getId(e)),0!==i.length&&r>i){c=!0;break}if(!c){for(const e of a){const t=this.hashNDegreeQuads(e,o);if(r+="_:"+o.getId(e),r+="<".concat(t.hash,">"),o=t.issuer,0!==i.length&&r>i){c=!0;break}}c||(0===i.length||r<i)&&(i=r,e=o)}}n.update(i),t=e}return{hash:n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"a":"z"}}getRelatedPredicate(e){return"<".concat(e.predicate.value,">")}createHashToRelated(e,t){const n=new Map,o=this.blankNodeInfo.get(e).quads;for(const i of o)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode(e){let{id:t,hashToBlankNodes:n}=e;const o=this.hashFirstDegreeQuads(t),i=n.get(o);i?i.push(t):n.set(o,[t])}_addBlankNodeQuadInfo(e){let{quad:t,component:n}=e;if("BlankNode"!==n.termType)return;const o=n.value,i=this.blankNodeInfo.get(o);i?i.quads.add(t):this.blankNodeInfo.set(o,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash(e){let{quad:t,component:n,position:o,id:i,issuer:r,hashToRelated:a}=e;if("BlankNode"!==n.termType||n.value===i)return;const s=n.value,l=this.hashRelatedBlankNode(s,t,r,o),c=a.get(l);c?c.push(s):a.set(l,[s])}_componentWithCanonicalId(e){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},3700:(e,t,n)=>{"use strict";const o=n(2484),i=n(3045);function r(e,n){if(n.inputFormat){if("application/n-quads"===n.inputFormat){if("string"!==typeof e)throw new Error("N-Quads input must be a string.");return t.NQuads.parse(e)}throw new Error('Unknown canonicalization input format: "'.concat(n.inputFormat,'".'))}return e}function a(e){if(e.format&&"application/n-quads"!==e.format)throw new Error('Unknown canonicalization output format: "'.concat(e.format,'".'))}function s(){globalThis.RDF_CANONIZE_TRACE_URDNA2015&&console.trace("[rdf-canonize] URDNA2015 is deprecated, use RDFC-1.0")}t.NQuads=n(208),t.IdentifierIssuer=n(851),t.canonize=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r(e,t);if(a(t),!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");if("RDFC-1.0"===t.algorithm)return new o(t).main(n);if("URDNA2015"===t.algorithm&&!t.rejectURDNA2015)return s(),new o(t).main(n);throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},t._canonizeSync=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r(e,t);if(a(t),!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");if("RDFC-1.0"===t.algorithm)return new i(t).main(n);if("URDNA2015"===t.algorithm&&!t.rejectURDNA2015)return s(),new i(t).main(n);throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},5373:(e,t,n)=>{"use strict";n(1878),t.setImmediate=setImmediate,t.crypto=globalThis.crypto;const o=[];for(let i=0;i<=255;++i)o.push(i.toString(16).padStart(2,"0"));t.bufferToHex=function(e){let t="";const n=new Uint8Array(e);for(let i=0;i<n.length;++i)t+=o[n[i]];return t}},1878:function(e,t,n){!function(e,t){"use strict";if(!e.setImmediate){var n,o=1,i={},r=!1,a=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",o=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),n=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},n=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;n=function(t){var n=a.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():n=function(e){setTimeout(c,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return i[o]=a,n(o),o++},s.clearImmediate=l}function l(e){delete i[e]}function c(e){if(r)setTimeout(c,0,e);else{var n=i[e];if(n){r=!0;try{!function(e){var n=e.callback,o=e.args;switch(o.length){case 0:n();break;case 1:n(o[0]);break;case 2:n(o[0],o[1]);break;case 3:n(o[0],o[1],o[2]);break;default:n.apply(t,o)}}(n)}finally{l(e),r=!1}}}}}("undefined"===typeof self?"undefined"===typeof n.g?this:n.g:self)},4175:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},400:(e,t,n)=>{"use strict";function o(e){var t=this;if(t instanceof o||(t=new o),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var o=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===o.next&&(e.tail=o),null===o.prev&&(e.head=o),e.length++,o}function r(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,o){if(!(this instanceof s))return new s(e,t,n,o);this.list=o,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=o,o.Node=s,o.create=o,o.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},o.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},o.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},o.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},o.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},o.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},o.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},o.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,o=0;null!==n;o++)e.call(t,n.value,o,this),n=n.next},o.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,o=this.length-1;null!==n;o--)e.call(t,n.value,o,this),n=n.prev},o.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},o.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},o.prototype.map=function(e,t){t=t||this;for(var n=new o,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},o.prototype.mapReverse=function(e,t){t=t||this;for(var n=new o,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},o.prototype.reduce=function(e,t){var n,o=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");o=this.head.next,n=this.head.value}for(var i=0;null!==o;i++)n=e(n,o.value,i),o=o.next;return n},o.prototype.reduceReverse=function(e,t){var n,o=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");o=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==o;i--)n=e(n,o.value,i),o=o.prev;return n},o.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},o.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},o.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new o;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,r=this.head;null!==r&&i<e;i++)r=r.next;for(;null!==r&&i<t;i++,r=r.next)n.push(r.value);return n},o.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new o;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,r=this.tail;null!==r&&i>t;i--)r=r.prev;for(;null!==r&&i>e;i--,r=r.prev)n.push(r.value);return n},o.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var r=[];for(n=0;o&&n<t;n++)r.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)o=i(this,o,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return r},o.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var o=n.prev;n.prev=n.next,n.next=o}return this.head=t,this.tail=e,this};try{n(4175)(o)}catch(l){}}}]);
//# sourceMappingURL=180.c8d626b2.chunk.js.map